(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{oXP6:function(e,t,n){"use strict";n.r(t);var l=n("CcnG"),i=function(){return function(){}}(),a=n("pMnS"),s=n("Vnl2"),r=n("9AJC"),o=n("4GxJ"),u=n("Ip0R"),c=n("gIcY"),d=n("XgrQ"),h=n("+o/m"),p=n("cfkQ"),g=n("z8lh"),m=n("ZYjt"),f=n("eFrH"),_=n("vUtf"),v=n("0sti"),b=n("8a+K"),y=n("RJMX"),E=n("coEj"),S=n("iNZF"),C=n("ALPY"),R=n("UQAU"),D=n("rYF7"),w=n("7q7Q"),I=n("SuIb"),T=n("JPpP"),P=n("/fMc"),A=n("1yeg"),k=n("SSr2"),V=n("+u8f"),N=n("TCqF"),x=n("teKj"),F=n("FVSd"),O=n("hx3Q"),M=n("H9RC"),L=n("PfFs"),q=n("53qZ"),j=n("9Pwp"),G=n("jdBv"),z=n("LqiL"),U=n("2Mas"),B=n("o+Rf"),K=n("A65b"),$=n("U64t"),Y=n("1b2F"),W=n("JEAp"),J=n("XqKP"),H=n("QTFM"),Q=n("NWap"),Z=n("3V+q"),X=n("N6VH"),ee=n("1wkq"),te=n("EiH4"),ne=n("z89T"),le=n("m3oD"),ie=n("NiO+"),ae=n("TFBR"),se=n("/gWu"),re=n("0Zic"),oe=n("eiqJ"),ue=n("tCKL"),ce=n("pQVB"),de=n("QkQD"),he=n("zwh2"),pe=n("078p"),ge=n("Zk2g"),me=n("c4FF"),fe=n("qYr5"),_e=n("jXnw"),ve=n("4NRs"),be=n("mhEj"),ye=n("iYF/"),Ee=n("dV+S"),Se=n("8Kln"),Ce=n("6HGF"),Re=n("3Nac"),De=n("TRUQ"),we=n("f7/7"),Ie=n("SwDF"),Te=function(){function e(e,t,n,l,i,a,s,r,o,u,c,d,h,p,g,m,f,_,v,y,S,C,R,D,w,k,V,x,F,O,M,L,G,z,U,B,K,W,Z){this.toastr=e,this.approvalStateDataService=t,this.consultorDataService=n,this.payDataService=l,this.userDataService=i,this.dinardapDataService=a,this.registerStateDataService=s,this.approvalStateAttachmentDataService=r,this.rucDataService=o,this.modalService=u,this.agreementDataService=c,this.rucNameTypeDataService=d,this.group_typeDataService=h,this.stateDeclaratonDataService=p,this.languageDataService=g,this.complementaryServiceFoodTypeDataService=m,this.establishmentPictureDataService=f,this.ubicationDataService=_,this.establishmentCertificationAttachmentDataService=v,this.personRepresentativeAttachmentDataService=y,this.complementary_service_typeDataService=S,this.systemNameDataService=C,this.genderDataService=R,this.workerGroupDataService=D,this.capacityTypeDataService=w,this.establishment_certification_typeDataService=k,this.establishment_property_typeDataService=V,this.establishmentDataService=x,this.register_typeDataService=F,this.requisiteDataService=O,this.bedTypeDataService=M,this.declarationDataService=L,this.declarationItemCategoryDataService=G,this.declarationItemDataService=z,this.tariffTypeDataService=U,this.stateDataService=B,this.stateAlojamientoDataService=K,this.tax_payer_typeDataService=W,this.registerDataService=Z,this.stateTramiteId=0,this.inspectores=[],this.financieros=[],this.financialSelectedId=0,this.registerApprovals=[],this.registerApprovalCoordinador=new E.a,this.registerApprovalInspector=new E.a,this.registerApprovalFinanciero=new E.a,this.pay=new I.a,this.pays=[],this.isAssigned=!1,this.hasIspectionDate=!1,this.hasInform=!1,this.hasRequisites=!1,this.inspectionState=0,this.declarationApprovalStateAttachment=new b.a,this.payApprovalStateAttachment=new b.a,this.newRegisterState=new P.a,this.maxDeclarationYear=0,this.declaration_state_id=0,this.declarationstates=[],this.registers_mintur=[],this.registerMinturSelected=null,this.currentPageMinturRegisters=1,this.lastPageMinturRegisters=1,this.recordsByPageRegisterMintur=5,this.mostrarDataRegisterMintur=!1,this.config={paging:!0,filtering:{filterString:""},className:["table-striped","table-hover","table-bordered"]},this.rows=[],this.columns=[],this.data=[],this.editable=!1,this.imContactRuc=!0,this.roles=[],this.terminosCondiciones=!1,this.terminosCondicionesAgreement=new N.a,this.rucReady=!1,this.currentPageRegister=1,this.lastPageRegister=1,this.recordsByPageRegister=5,this.mostrarData=!0,this.group_types=[],this.rucs_registrados=[],this.ruc_registro_selected=new Q.a,this.rucData="CONECT\xc1NDOSE AL SRI...",this.cedulaData="CONECT\xc1NDOSE AL REGISTRO CIVIL...",this.representanteCedulaData="CONECT\xc1NDOSE AL REGISTRO CIVIL...",this.cedulaEstablishmentContactData="CONECT\xc1NDOSE AL REGISTRO CIVIL...",this.tax_payer_types=[],this.zonalSelectedCode="-",this.provinciaSelectedCode="-",this.cantonSelectedCode="-",this.groupTypeSelected=new $.a,this.rucValidated=!1,this.identificationRepresentativePersonValidated=!1,this.identificationContactValidated=!1,this.addressContactValidated=!1,this.emailContactValidated=!1,this.mainPhoneContactValidated=!1,this.secondaryPhoneContactValidated=!0,this.user=new me.a,this.rowsEstablishment=[],this.columnsEstablishment=[],this.dataEstablishment=[],this.establishment_certification_types=[],this.identificationContactEstablishmentValidated=!1,this.mainPhoneContactEstablishmentValidated=!1,this.secondaryPhoneContactEstablishmentValidated=!0,this.emailContactEstablishmentValidated=!1,this.currentPageEstablishment=1,this.lastPageEstablishment=1,this.recordsByPageEstablishment=5,this.mostrarDataEstablishment=!1,this.zonalEstablishmentSelectedCode="-",this.provinciaEstablishmentSelectedCode="-",this.cantonEstablishmentSelectedCode="-",this.zonalesEstablishment=[],this.provinciasEstablishment=[],this.ruc_name_types=[],this.preview_register_codes=[],this.establishment_selected=new J.a,this.establishment_property_types=[],this.establishment_selected_picture=new Y.a,this.languages=[],this.languages_establishmentSelectedId=0,this.ubications=[],this.system_names=[],this.workers=[],this.worker_establishmentSelected=new ae.a,this.worker_groups=[],this.genders=[],this.establishment_certification_types_categories=[],this.establishment_certifications=[],this.preview_register_codes_establishmentSelected=new ie.a,this.establishmentComercialNameValidated=!1,this.addressEstablishmentValidated=!1,this.mainPhoneEstablishmentValidated=!1,this.secondaryPhoneEstablishmentValidated=!0,this.urlwebEstablishmentValidated=!0,this.establishment_certifications_establishmentSelected=new H.a,this.rowsRegister=[],this.columnsRegister=[],this.dataRegister=[],this.estado_tramite_selected_code="1",this.statusSelected=new P.a,this.mostrarDataRegister=!1,this.showRequisites=!1,this.complementaryServiceFoodSelected=new A.a,this.rucEstablishmentRegisterSelected=new se.a,this.clasifications_registers=[],this.categories_registers=[],this.register_types=[],this.complementary_service_types=[],this.complementary_service_types_categories=[],this.requisitesByRegisterType=[],this.categorySelectedCode="-",this.complementary_service_types_registerSelectedId=0,this.capacitySelected=new j.a,this.bedSelected=new q.a,this.alowed_bed_types=[],this.register_establishment_capacities_registerSelectedId=0,this.rack_prices_registerSelectedId=0,this.establishment_service_offers_registerSelectedId=0,this.tarifas=[],this.states=[],this.statesAlojamiento=[],this.alowed_capacity_types=[],this.complementaryServiceFoodTypes=[],this.consumoCedula=!1,this.consumoCedulaEstablishmentContact=!1,this.consumoRuc=!1,this.consumoCedulaRepresentanteLegal=!1,this.SRIOK=!1,this.REGCIVILOK=!1,this.REGCIVILOKEstablishment=!1,this.REGCIVILREPRESENTANTELEGALOK=!1,this.guardando=!1,this.currentPageDeclaration=1,this.lastPageDeclaration=1,this.recordsByPageDeclaration=5,this.establishment_declarations_selected=new J.a,this.declaration_selected=new T.a,this.mostrarDataDeclaration=!1,this.declarations=[],this.payDeclarationSelected=new I.a,this.declarationItemsToShow=[],this.declarationItemsCategories=[],this.declarationItems=[],this.maxYear=2019,this.idRegister=0}return e.prototype.ngOnInit=function(){this.refresh(),this.getUser()},e.prototype.onChangeTableEstablishment=function(e,t){void 0===t&&(t={page:this.currentPageEstablishment,itemsPerPage:this.recordsByPageEstablishment}),e.filtering&&Object.assign(this.config.filtering,e.filtering),e.sorting&&Object.assign(this.config.sorting,e.sorting);var n=this.changeFilterEstablishment(this.dataEstablishment,this.config),l=this.changeSortEstablishment(n,this.config);this.rowsEstablishment=t&&e.paging?this.changePageEstablishment(t,l):l},e.prototype.changeFilterEstablishment=function(e,t){var n=this;this.mostrarDataEstablishment=!1,this.rowsEstablishment.forEach(function(e){e.selected=""});var l=e;if(this.columnsEstablishment.forEach(function(e){e.filtering&&(l=l.filter(function(t){return t[e.name].match(e.filtering.filterString)}))}),!t.filtering)return l;if(t.filtering.columnName)return l.filter(function(e){return e[t.filtering.columnName].match(n.config.filtering.filterString)});var i=[];return l.forEach(function(e){var t=!1;n.columnsEstablishment.forEach(function(l){e[l.name].toString().match(n.config.filtering.filterString)&&(t=!0)}),t&&i.push(e)}),l=i},e.prototype.changeSortEstablishment=function(e,t){if(!t.sorting)return e;for(var n=this.config.sorting.columns||[],l=void 0,i=void 0,a=0;a<n.length;a++)""!==n[a].sort&&!1!==n[a].sort&&(l=n[a].name,i=n[a].sort);return l?e.sort(function(e,t){return e[l]>t[l]?"desc"===i?-1:1:e[l]<t[l]?"asc"===i?-1:1:0}):e},e.prototype.changePageEstablishment=function(e,t){void 0===t&&(t=this.dataEstablishment);var n=(e.page-1)*e.itemsPerPage;return t.slice(n,e.itemsPerPage>-1?n+e.itemsPerPage:t.length)},e.prototype.buildDataTableEstablishment=function(){this.columnsEstablishment=[{title:"",name:"selected"},{title:"C\xf3digo",name:"code",filtering:{filterString:"",placeholder:"C\xf3digo"}},{title:"Direcci\xf3n",name:"address",filtering:{filterString:"",placeholder:"Direcci\xf3n"}},{title:"Nombre Comercial",name:"name",filtering:{filterString:"",placeholder:"Nombre Comercial"}}];var e=[];this.ruc_registro_selected.ruc.establishments.forEach(function(t){e.push({selected:"",code:t.ruc_code_id,address:t.address_main_street+" "+t.address_number+" "+t.address_secondary_street,name:t.commercially_known_name})}),this.dataEstablishment=e,this.onChangeTableEstablishment(this.config)},e.prototype.onCellClickEstablishment=function(e){var t=this;this.ruc_registro_selected.ruc.establishments.forEach(function(n){n.ruc_code_id==e.row.code&&t.selectRegisterEstablishment(n)}),this.rowsEstablishment.forEach(function(t){t.selected=t.code==e.row.code?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""})},e.prototype.onChangeTableRegister=function(e,t){void 0===t&&(t={page:this.currentPageRegister,itemsPerPage:this.recordsByPageRegister}),e.filtering&&Object.assign(this.config.filtering,e.filtering),e.sorting&&Object.assign(this.config.sorting,e.sorting);var n=this.changeFilterRegister(this.dataRegister,this.config),l=this.changeSortRegister(n,this.config);this.rowsRegister=t&&e.paging?this.changePageRegister(t,l):l},e.prototype.changeFilterRegister=function(e,t){var n=this;this.mostrarDataRegister=!1,this.rowsRegister.forEach(function(e){e.selected=""});var l=e;if(this.columnsRegister.forEach(function(e){e.filtering&&(l=l.filter(function(t){return t[e.name].match(e.filtering.filterString)}))}),!t.filtering)return l;if(t.filtering.columnName)return l.filter(function(e){return e[t.filtering.columnName].match(n.config.filtering.filterString)});var i=[];return l.forEach(function(e){var t=!1;n.columnsRegister.forEach(function(l){e[l.name].toString().match(n.config.filtering.filterString)&&(t=!0)}),t&&i.push(e)}),l=i},e.prototype.changeSortRegister=function(e,t){if(!t.sorting)return e;for(var n=this.config.sorting.columns||[],l=void 0,i=void 0,a=0;a<n.length;a++)""!==n[a].sort&&!1!==n[a].sort&&(l=n[a].name,i=n[a].sort);return l?e.sort(function(e,t){return e[l]>t[l]?"desc"===i?-1:1:e[l]<t[l]?"asc"===i?-1:1:0}):e},e.prototype.changePageRegister=function(e,t){void 0===t&&(t=this.dataRegister);var n=(e.page-1)*e.itemsPerPage;return t.slice(n,e.itemsPerPage>-1?n+e.itemsPerPage:t.length)},e.prototype.buildDataTableRegister=function(){var e=this;this.columnsRegister=[{title:"",name:"selected"},{title:"C\xf3digo del Establecimiento",name:"establishment_code",filtering:{filterString:"",placeholder:"C\xf3digo del Establecimiento"}},{title:"Ubicaci\xf3n del Establecimiento",name:"address",filtering:{filterString:"",placeholder:"Ubicaci\xf3n del Establecimiento"}},{title:"C\xf3digo del Registro",name:"register_code",filtering:{filterString:"",placeholder:"C\xf3digo del Registro"}},{title:"Tipo de Registro",name:"register_type",filtering:{filterString:"",placeholder:"Tipo de Registro"}},{title:"Estado",name:"state",filtering:{filterString:"",placeholder:"Estado"}},{title:"Observaciones",name:"notes"}];var t=[];this.ruc_registro_selected.registers.forEach(function(n){t.push({selected:"",id:n.register.id,establishment_code:n.establishment.ruc_code_id,address:n.establishment.address_main_street+" "+n.establishment.address_number+" "+n.establishment.address_secondary_street,register_code:n.register.code,register_type:n.type.register_category.name+" / "+n.type.register_type.name,state:e.getRegisterState(n.status.id),state_id:n.status_register.state_id,notes:'<div class="col-12 text-justify">'+n.status_register.justification+"</div>"})}),this.dataRegister=t,this.onChangeTableRegister(this.config)},e.prototype.onCellClickRegister=function(e){var t=this;this.ruc_registro_selected.registers.forEach(function(n){n.register.id==e.row.id&&t.selectEstablishmentRegister(n.register)}),this.stateTramiteId=e.row.state_id,this.showTramiteState(),this.rowsRegister.forEach(function(t){t.selected=t.id==e.row.id?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""})},e.prototype.showTramiteState=function(){var e=this.stateTramiteId.toString(),t=e.substring(e.length-1,e.length);this.estado_tramite_selected_code=t,this.getSpecificStates()},e.prototype.onChangeTable=function(e,t){void 0===t&&(t={page:this.currentPageMinturRegisters,itemsPerPage:this.recordsByPageRegisterMintur}),e.filtering&&Object.assign(this.config.filtering,e.filtering),e.sorting&&Object.assign(this.config.sorting,e.sorting);var n=this.changeFilter(this.data,this.config),l=this.changeSort(n,this.config);this.rows=t&&e.paging?this.changePage(t,l):l},e.prototype.changeFilter=function(e,t){var n=this;this.mostrarDataRegisterMintur=!1,this.rows.forEach(function(e){e.selected=""});var l=e;if(this.columns.forEach(function(e){e.filtering&&(l=l.filter(function(t){return t[e.name].match(e.filtering.filterString)}))}),!t.filtering)return l;if(t.filtering.columnName)return l.filter(function(e){return e[t.filtering.columnName].match(n.config.filtering.filterString)});var i=[];return l.forEach(function(e){var t=!1;n.columns.forEach(function(l){e[l.name].toString().match(n.config.filtering.filterString)&&(t=!0)}),t&&i.push(e)}),l=i},e.prototype.changeSort=function(e,t){if(!t.sorting)return e;for(var n=this.config.sorting.columns||[],l=void 0,i=void 0,a=0;a<n.length;a++)""!==n[a].sort&&!1!==n[a].sort&&(l=n[a].name,i=n[a].sort);return l?e.sort(function(e,t){return e[l]>t[l]?"desc"===i?-1:1:e[l]<t[l]?"asc"===i?-1:1:0}):e},e.prototype.changePage=function(e,t){void 0===t&&(t=this.data);var n=(e.page-1)*e.itemsPerPage;return t.slice(n,e.itemsPerPage>-1?n+e.itemsPerPage:t.length)},e.prototype.getRegistersMintur=function(){var e=this;this.registers_mintur=[],this.registerMinturSelected=new se.a,this.consultorDataService.get_registers_assigned_financial_id(this.user.id).then(function(t){e.registers_mintur=t,e.buildDataTable()}).catch(function(e){return console.log(e)})},e.prototype.buildDataTable=function(){var e=this;this.columns=[{title:"",name:"selected"},{title:"D\xedas en Espera",name:"date_assigment_alert"},{title:"N\xfamero de RUC",name:"number",filtering:{filterString:"",placeholder:"N\xfamero de RUC"}},{title:"Establecimiento",name:"establishment"},{title:"Direcci\xf3n",name:"address"},{title:"Categor\xeda",name:"category"},{title:"Estado",name:"status"},{title:"Fecha de Solicitud",name:"updated_at"},{title:"Fecha de Asignaci\xf3n",name:"date_assigment"}];var t=[];this.registers_mintur.forEach(function(n){var l="",i=new Date,a=e.getRegisterState(n.states.state_id);0==a.search("Aprobado")&&(i=new Date(n.states.updated_at)),0==a.search("Negado")&&(i=new Date(n.states.updated_at));var s=new Date(n.register.updated_at),r=Math.abs(s.getTime()-i.getTime()),o=Math.ceil(r/864e5);o<7&&(l='<div class="col-12 text-center"><span class="badge badge-success">&nbsp;'+o.toString()+"&nbsp;</span></div>"),o>=7&&o<=10&&(l='<div class="col-12 text-center"><span class="badge badge-warning">&nbsp;'+o.toString()+"&nbsp;</span></div>"),o>10&&(l='<div class="col-12 text-center"><span class="badge badge-danger">&nbsp;'+o.toString()+"&nbsp;</span></div>");var u=n.states.state_id.toString(),c=u.substring(u.length-1,u.length);"7"!=c&&"8"!=c||t.push({selected:"",date_assigment_alert:l,number:n.ruc.number,registerId:n.register.id,establishment:n.establishment.commercially_known_name,address:n.establishment.address_main_street+" "+n.establishment.address_number+" "+n.establishment.address_secondary_street,updated_at:n.register.updated_at,date_assigment:n.register.date_assigment,category:e.getRegisterCategory(n.register.register_type_id),status:a,status_id:n.states.state_id})}),this.data=t,this.onChangeTable(this.config)},e.prototype.imprimirDeclaracion=function(){},e.prototype.validateNotesInspection=function(){return this.registerApprovalFinanciero.notes.length>4},e.prototype.validateInspectionInfo=function(){return this.validateNotesInspection()},e.prototype.borrarOrdenDePago=function(){var e=this;this.payDataService.delete(this.pay.id).then(function(t){e.toastr.errorToastr("\xd3rden de Pago Eliminada Satisfactoriamente","Revisi\xf3n, T\xe9cnico Financiero"),e.refresh()}).catch(function(e){console.log(e)})},e.prototype.saveToPayValue=function(){var e=this;0==this.pay.id?(this.pay.ruc_id=this.ruc_registro_selected.ruc.id,this.pay.amount_payed=-1,this.pay.pay_date=null,this.pay.code=this.ruc_registro_selected.ruc.number.substring(0,10)+this.pays.length.toString(),this.pay.payed=!1,this.payDataService.post(this.pay).then(function(t){e.toastr.successToastr("Informaci\xf3n Guardada Satisfactoriamente","Revisi\xf3n, T\xe9cnico Financiero"),e.getPays()}).catch(function(e){console.log(e)})):this.payDataService.put(this.pay).then(function(t){e.toastr.successToastr("Informaci\xf3n Actualizada Satisfactoriamente","Revisi\xf3n, T\xe9cnico Financiero"),e.refresh()}).catch(function(e){console.log(e)})},e.prototype.descargarDeclaracion=function(){this.downloadFile(this.declarationApprovalStateAttachment.approval_state_attachment_file,this.declarationApprovalStateAttachment.approval_state_attachment_file_type,this.declarationApprovalStateAttachment.approval_state_attachment_file_name)},e.prototype.borrarDeclaracion=function(){this.declarationApprovalStateAttachment=new b.a},e.prototype.imprimirPago=function(){},e.prototype.descargarPago=function(){this.downloadFile(this.payApprovalStateAttachment.approval_state_attachment_file,this.payApprovalStateAttachment.approval_state_attachment_file_type,this.payApprovalStateAttachment.approval_state_attachment_file_name)},e.prototype.borrarPago=function(){this.payApprovalStateAttachment=new b.a},e.prototype.CodeFileDeclaracionAttachment=function(e){var t=this,n=new FileReader;if(e.target.files&&e.target.files.length>0){var l=e.target.files[0];n.readAsDataURL(l),n.onload=function(){t.declarationApprovalStateAttachment.approval_state_attachment_file_name=l.name,t.declarationApprovalStateAttachment.approval_state_attachment_file_type=l.type,t.declarationApprovalStateAttachment.approval_state_attachment_file=n.result.toString().split(",")[1]}}},e.prototype.CodeFileComprobanteAttachment=function(e){var t=this,n=new FileReader;if(e.target.files&&e.target.files.length>0){var l=e.target.files[0];n.readAsDataURL(l),n.onload=function(){t.payApprovalStateAttachment.approval_state_attachment_file_name=l.name,t.payApprovalStateAttachment.approval_state_attachment_file_type=l.type,t.payApprovalStateAttachment.approval_state_attachment_file=n.result.toString().split(",")[1]}}},e.prototype.validateDeclaracionFile=function(){return!(""==this.declarationApprovalStateAttachment.approval_state_attachment_file_name)},e.prototype.validateComprobanteFile=function(){return!(""==this.payApprovalStateAttachment.approval_state_attachment_file_name)},e.prototype.guardarInspeccion=function(){var e=this,t=this.stateTramiteId.toString(),n=t.substring(t.length-1,t.length);if(0!=this.inspectionState){var l=new Date;this.registerApprovalFinanciero.date_fullfill=l,1==this.inspectionState&&(this.registerApprovalFinanciero.value=!0,"0"==n&&(this.newRegisterState.state_id=this.stateTramiteId),"7"==n&&(this.newRegisterState.state_id=this.stateTramiteId+3),"8"==n&&(this.newRegisterState.state_id=this.stateTramiteId+2)),2==this.inspectionState&&(this.registerApprovalFinanciero.value=!1,"0"==n&&(this.newRegisterState.state_id=this.stateTramiteId),"7"==n&&(this.newRegisterState.state_id=this.stateTramiteId+3),"8"==n&&(this.newRegisterState.state_id=this.stateTramiteId+2)),3==this.inspectionState&&(this.registerApprovalFinanciero.value=!1,"0"==n&&(this.newRegisterState.state_id=this.stateTramiteId-2),"7"==n&&(this.newRegisterState.state_id=this.stateTramiteId+1),"8"==n&&(this.newRegisterState.state_id=this.stateTramiteId)),this.newRegisterState.justification="Resultados de la Revisi\xf3n de T\xe9cnico Financiero cargados en la fecha "+l.toDateString(),this.newRegisterState.register_id=this.registerApprovalFinanciero.register_id,this.registerStateDataService.post(this.newRegisterState).then(function(e){}).catch(function(e){console.log(e)}),this.approvalStateDataService.put(this.registerApprovalFinanciero).then(function(t){e.toastr.successToastr("Datos guardados satisfactoriamente.","Revisi\xf3n, T\xe9cnico Financiero"),e.refresh()}).catch(function(e){console.log(e)})}else this.toastr.errorToastr("Debe seleccionar un estado de la revisi\xf3n","Revisi\xf3n, T\xe9cnico Financiero")},e.prototype.onCellClick=function(e){var t=this;this.registers_mintur.forEach(function(n){n.ruc.number==e.row.number&&(t.selectRegisterMintur(n),t.stateTramiteId=n.states.state_id,t.idRegister=e.row.registerId,t.getApprovalStates(),t.rows.forEach(function(e){e.selected=t.idRegister==e.registerId?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""}))})},e.prototype.checkIfIsAssigned=function(){this.isAssigned=0!==this.financialSelectedId},e.prototype.checkIfHasInform=function(){},e.prototype.checkIfHasRequisites=function(){},e.prototype.checkIfHasIspectionDate=function(){},e.prototype.getApprovalStates=function(){var e=this;this.isAssigned=!1,this.hasIspectionDate=!1,this.hasInform=!1,this.hasRequisites=!1,this.registerApprovalInspector=new E.a,this.registerApprovalFinanciero=new E.a,this.registerApprovalCoordinador=new E.a,this.approvalStateDataService.get_by_register_id(this.idRegister).then(function(t){e.registerApprovals=t,e.approvalStateAttachmentDataService.get_by_register_id(e.idRegister).then(function(t){var n=t;e.registerApprovals.forEach(function(t){if(2==t.approval_id){if(t.value)e.inspectionState=1;else{e.inspectionState=2;var l=e.stateTramiteId.toString();"8"==l.substring(l.length-1,l.length)&&(e.inspectionState=3)}0==n.length&&(e.inspectionState=0,e.declarationApprovalStateAttachment=new b.a,e.declarationApprovalStateAttachment.approval_state_id=t.id,e.payApprovalStateAttachment=new b.a,e.payApprovalStateAttachment.approval_state_id=t.id),n.forEach(function(n){n.approval_state_id==t.id&&(0==n.approval_state_attachment_file_name.search("Informe")&&(e.payApprovalStateAttachment=n),0==n.approval_state_attachment_file_name.search("Formulario")&&(e.declarationApprovalStateAttachment=n))}),e.registerApprovalFinanciero=t,e.registerApprovalFinanciero.date_fullfill=new Date,void 0!==e.registerApprovalFinanciero.notes&&null!=e.registerApprovalFinanciero.notes||(e.registerApprovalFinanciero.notes=""),e.financialSelectedId=e.registerApprovalFinanciero.id_user,e.checkIfIsAssigned(),e.checkIfHasInform(),e.checkIfHasRequisites(),e.checkIfHasIspectionDate()}})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},e.prototype.getRegisterTypes=function(){var e=this;this.register_typeDataService.get().then(function(t){e.register_types=t,e.getRegistersMintur()}).catch(function(e){console.log(e)})},e.prototype.selectRegisterMintur=function(e){this.registerMinturSelected=e,this.mostrarDataRegisterMintur=!0,this.getRuc(this.registerMinturSelected.ruc.number),this.getRegistersOnRuc(),this.groupTypeSelected=new $.a},e.prototype.validateGroupGivenTipe=function(){return!(this.ruc_registro_selected.ruc.tax_payer_type_id>1)||0!==this.ruc_registro_selected.ruc.group_given.group_type_id},e.prototype.getTramiteStates=function(){var e=this;this.estados_tramites=[],this.stateDataService.get().then(function(t){t.forEach(function(t){"-"==t.father_code&&e.estados_tramites.push(t)})}).catch(function(e){console.log(e)})},e.prototype.validateTariffs=function(){return!0},e.prototype.validateRuc=function(){var e=!0;return this.ruc_registro_selected.ruc.tax_payer_type_id>1?(e=this.identificationRepresentativePersonValidated,this.identificationContactValidated&&this.rucValidated&&this.mainPhoneContactValidated&&this.secondaryPhoneContactValidated&&this.emailContactValidated&&this.validateNombramiento()&&this.validateGroupGivenTipe()&&e&&this.REGCIVILOK&&this.SRIOK&&this.REGCIVILREPRESENTANTELEGALOK):this.identificationContactValidated&&this.rucValidated&&this.mainPhoneContactValidated&&this.secondaryPhoneContactValidated&&this.emailContactValidated&&this.REGCIVILOK&&this.SRIOK},e.prototype.refresh=function(){this.registerMinturSelected=new se.a,this.mostrarDataRegisterMintur=!1,this.ruc_registro_selected=new Q.a,this.pay=new I.a,this.pays=[],this.getDeclarationStates(),this.getInspectores(),this.getFinancieros(),this.getTramiteStates(),this.getDeclarationCategories(),this.getDeclarationItems(),this.getMaxDeclarationDate(),this.getTaxPayerType(),this.getGroupType(),this.getStates(),this.getStatesAlojamiento(),this.getCapacityTypes(),this.getRucNameTypes(),this.getZonalesEstablishment(),this.getEstablishmentPropertyType(),this.getLanguage(),this.getComplementaryFoodServiceType(),this.getSystemNames(),this.getCertificationTypes(),this.getWorkerGroups(),this.getTariffs(),this.getClasifications(),this.getEstablishmentCertificationTypesCategories(),this.getComplementaryServiceTypeCategories()},e.prototype.getInspectores=function(){var e=this;this.inspectores=[],this.userDataService.get_by_rol("5").then(function(t){e.inspectores=t}).catch(function(e){console.log(e)})},e.prototype.getFinancieros=function(){var e=this;this.financieros=[],this.userDataService.get_by_rol("6").then(function(t){e.financieros=t}).catch(function(e){console.log(e)})},e.prototype.actualizarDeclaracion=function(){var e=this,t=new we.a;t.declaration_id=this.declaration_selected.id,t.state_id=this.declaration_selected.status.id,t.moment=new Date,this.declarationstates.forEach(function(e){e.id==t.state_id&&(t.justification=e.name+" en la fecha "+t.moment.toDateString())}),this.stateDeclaratonDataService.post(t).then(function(t){e.toastr.successToastr("Datos guardados satisfactoriamente.","Declaraci\xf3n"),e.refresh()}).catch(function(e){console.log(e)})},e.prototype.getDeclarationCategories=function(){var e=this;this.declarationItemCategoryDataService.get().then(function(t){e.declarationItemsCategories=t}).catch(function(e){console.log(e)})},e.prototype.getDeclarationItems=function(){var e=this;this.declarationItemDataService.get().then(function(t){e.declarationItems=t}).catch(function(e){console.log(e)})},e.prototype.newDeclaration=function(){this.declaration_selected=new T.a,this.mostrarDataDeclaration=!0,this.guardando=!1,this.buildDeclarationItemsToShow()},e.prototype.mostrarFechaMaximaPago=function(){return void 0!==this.declaration_selected.max_date_to_pay},e.prototype.getMaxDeclarationDate=function(){var e=new Date;this.maxYear=e.getFullYear()},e.prototype.getComplementaryFoodServiceType=function(){var e=this;this.complementaryServiceFoodTypeDataService.get().then(function(t){e.complementaryServiceFoodTypes=t}).catch(function(e){console.log(e)})},e.prototype.buildDeclarationItemsToShow=function(){var e=this;this.declarationItemsToShow=[],this.declarationItemsCategories.forEach(function(t){if(t.tax_payer_type_id==e.ruc_registro_selected.ruc.tax_payer_type_id){var n=[];e.declarationItems.forEach(function(l){if(l.declaration_item_category_id==t.id){var i=new R.a;i.declaration_item_id=l.id,l.tax_payer_type_id==e.ruc_registro_selected.ruc.tax_payer_type_id&&n.push({declarationItem:l,valueItem:i})}}),e.declarationItemsToShow.push({Category:t,items:n})}})},e.prototype.addComplementaryFoodService=function(){var e=new A.a;this.rucEstablishmentRegisterSelected.complementary_service_foods_on_register.push(e)},e.prototype.selectComplementaryFoodService=function(e){this.complementaryServiceFoodSelected=e},e.prototype.removeComplementaryFoodService=function(e){var t=[];this.rucEstablishmentRegisterSelected.complementary_service_foods_on_register.forEach(function(n){n!==e&&t.push(n)}),this.rucEstablishmentRegisterSelected.complementary_service_foods_on_register=t},e.prototype.getTerminosCondicionesAgreement=function(){var e=this;this.agreementDataService.get(1).then(function(t){e.terminosCondicionesAgreement=t.Agreement,e.terminosCondicionesAgreement.content=e.terminosCondicionesAgreement.content.replace("##USER##","<strong>"+e.user.name.toUpperCase()+"</strong>"),e.terminosCondicionesAgreement.content=e.terminosCondicionesAgreement.content.replace("##RUC##","<strong>"+e.user.ruc+"</strong>")}).catch(function(e){console.log(e)})},e.prototype.getRuc=function(e){var t=this;this.rucDataService.get_filtered(e).then(function(n){void 0===n.Ruc?(t.ruc_registro_selected.ruc=new fe.a,t.ruc_registro_selected.ruc.establishments=[],t.ruc_registro_selected.ruc.number=e,t.ruc_registro_selected.ruc.contact_user=new me.a,t.imContactRuc=t.ruc_registro_selected.ruc.contact_user.id==t.user.id,t.ruc_registro_selected.ruc.establishmentsSRI=[],t.ruc_registro_selected.ruc.establishments=[],t.ruc_registro_selected.ruc.group_given=new _e.a,t.ruc_registro_selected.ruc.person_representative=new ve.a,t.ruc_registro_selected.ruc.tax_payer_type_id=0,t.ruc_registro_selected.ruc.contact_user_id=0,t.imContactRuc=!0,t.checkImContactRuc(),t.checkRuc()):(t.ruc_registro_selected.ruc=n.Ruc,t.ruc_registro_selected.ruc.establishments=[],t.ruc_registro_selected.ruc.contact_user=n.contact_user,t.imContactRuc=t.ruc_registro_selected.ruc.contact_user.id==t.user.id,"0"==n.group_given?t.ruc_registro_selected.ruc.group_given=new _e.a:(t.ruc_registro_selected.ruc.group_given=n.group_given,t.group_types=[],t.group_typeDataService.get().then(function(e){t.group_types=e,t.setGroupTypeSelected(t.ruc_registro_selected.ruc.group_given.group_type_id)}).catch(function(e){return console.log(e)})),t.ruc_registro_selected.ruc.person_representative="0"==n.person_representative?new ve.a:n.person_representative,t.ruc_registro_selected.ruc.person_representative_attachment=new be.a,t.getPersonRepresentativeAttachment(t.ruc_registro_selected.ruc.number),t.checkRuc(),t.getPays(),t.checkImContactRuc(),t.imContactRuc||t.checkCedula(),t.checkEmail(),t.checkTelefonoPrincipal(),t.checkTelefonoSecundario(),t.checkIdentificationRepresentant(),t.getEstablishmentsOnRuc(t.currentPageEstablishment))}).catch(function(e){console.log(e)})},e.prototype.selectPay=function(e){this.pay=e},e.prototype.getPays=function(){var e=this;this.payDataService.get_by_ruc_id(this.ruc_registro_selected.ruc.id).then(function(t){e.pays=t,0==e.pays.length&&(e.pay=new I.a)}).catch(function(e){console.log(e)})},e.prototype.checkImContactRuc=function(){this.imContactRuc&&(this.ruc_registro_selected.ruc.contact_user.id=this.user.id,this.ruc_registro_selected.ruc.contact_user=this.user,this.identificationContactValidated=!0,this.consumoCedula=!0,this.mainPhoneContactValidated=!0,this.secondaryPhoneContactValidated=!0,this.emailContactValidated=!0,this.REGCIVILOK=!0)},e.prototype.getEstablishmentsOnRuc=function(e){var t=this;this.declaration_selected=new T.a,this.establishment_selected=new J.a,this.mostrarDataEstablishment=!1,this.establishmentDataService.getByRuc(this.ruc_registro_selected.ruc.number,this.recordsByPageEstablishment,e).then(function(e){0==e.data.length?t.ruc_registro_selected.ruc.establishments=[]:(t.ruc_registro_selected.ruc.establishments=e.data,t.buildDataTableEstablishment())}).catch(function(e){console.log(e)})},e.prototype.getPersonRepresentativeAttachment=function(e){var t=this;this.personRepresentativeAttachmentDataService.get_filtered(e).then(function(e){t.ruc_registro_selected.ruc.person_representative_attachment="0"==e?new be.a:e}).catch(function(e){console.log(e)})},e.prototype.getCertificationTypes=function(){var e=this;this.establishment_certification_types=[],this.establishment_certification_typeDataService.get().then(function(t){e.establishment_certification_types=t}).catch(function(e){console.log(e)})},e.prototype.validateNombramiento=function(){return this.ruc_registro_selected.ruc.tax_payer_type_id<=1||!(""==this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_name)},e.prototype.getUser=function(){var e=this;this.roles=JSON.parse(sessionStorage.getItem("roles")),this.userDataService.get(JSON.parse(sessionStorage.getItem("user")).id).then(function(t){e.user=t,e.getTerminosCondicionesAgreement()}).catch(function(e){return console.log(e)})},e.prototype.CodeFilePersonRepresentativeAttachment=function(e){var t=this,n=new FileReader;if(e.target.files&&e.target.files.length>0){var l=e.target.files[0];n.readAsDataURL(l),n.onload=function(){t.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_name=l.name,t.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_type=l.type,t.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file=n.result.toString().split(",")[1]}}},e.prototype.borrarNombramiento=function(){this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file="",this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_type="",this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_name=""},e.prototype.descargarNombramiento=function(){this.downloadFile(this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file,this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_type,this.ruc_registro_selected.ruc.person_representative_attachment.person_representative_attachment_file_name)},e.prototype.getCapacityTypes=function(){var e=this;this.alowed_capacity_types=[],this.capacityTypeDataService.get_filtered_by_register_type(this.rucEstablishmentRegisterSelected.register_type_id).then(function(t){e.alowed_capacity_types=t}).catch(function(e){console.log(e)})},e.prototype.refreshEstablishment=function(){this.goToPageEstablishment(this.currentPageEstablishment)},e.prototype.getStates=function(){var e=this;this.states=[],this.stateDataService.get().then(function(t){e.states=t,e.getRegisterTypes(),e.getSpecificStates()}).catch(function(e){console.log(e)})},e.prototype.getStatesAlojamiento=function(){var e=this;this.statesAlojamiento=[],this.stateAlojamientoDataService.get().then(function(t){e.statesAlojamiento=t,e.getRegisterTypes(),e.getSpecificStates()}).catch(function(e){console.log(e)})},e.prototype.getRegisterCategory=function(e){var t="",n="";return this.register_types.forEach(function(l){l.id==e&&(t=l.name,n=l.father_code)}),this.register_types.forEach(function(e){e.code==n&&(t=e.name+" - "+t)}),t},e.prototype.getRegisterState=function(e){var t="",n="";return this.statesAlojamiento.forEach(function(l){l.id==e&&(t=l.name,n=l.father_code)}),this.statesAlojamiento.forEach(function(e){e.code==n&&(t=e.name+" - "+t)}),t},e.prototype.getClasifications=function(){var e=this;this.clasifications_registers=[],this.categorySelectedCode="-",this.showRequisites=!1,this.register_typeDataService.get_filtered("-").then(function(t){e.clasifications_registers=t}).catch(function(e){console.log(e)})},e.prototype.getRucNameTypes=function(){var e=this;this.ruc_name_types=[],this.rucNameTypeDataService.get().then(function(t){e.ruc_name_types=t}).catch(function(e){console.log(e)})},e.prototype.getDeclarationsByEstablishment=function(e){var t=this;this.declarationDataService.get_by_establishment(e).then(function(e){t.declarations=e}).catch(function(e){console.log(e)})},e.prototype.nuevaOrdenDePago=function(){this.pay=new I.a},e.prototype.selectDeclaration=function(e){var t=this;this.declaration_selected=e,this.mostrarDataDeclaration=!0,this.declarationItemsToShow=[],this.guardando=!1,this.declarationItemsCategories.forEach(function(n){if(n.tax_payer_type_id==t.ruc_registro_selected.ruc.tax_payer_type_id){var l=[];e.declaration_item_values_on_declaration.forEach(function(e){t.declarationItems.forEach(function(i){i.tax_payer_type_id==t.ruc_registro_selected.ruc.tax_payer_type_id&&i.id==e.declaration_item_id&&i.declaration_item_category_id==n.id&&l.push({declarationItem:i,valueItem:e})})}),t.declarationItemsToShow.push({Category:n,items:l})}})},e.prototype.guardarDeclaracion=function(){var e=this;this.declaration_selected.declaration_item_values_on_declaration=[],this.declarationItemsToShow.forEach(function(t){t.items.forEach(function(t){e.declaration_selected.declaration_item_values_on_declaration.push(t.valueItem)})}),this.guardando=!0,this.declaration_selected.establishment_id=this.establishment_declarations_selected.id,this.declarationDataService.register_data(this.declaration_selected).then(function(t){e.guardando=!1,"0"!==t?(e.toastr.successToastr("Datos guardados satisfactoriamente.","Declaraci\xf3n"),e.getEstablishmentsOnRuc(e.currentPageEstablishment),e.establishment_declarations_selected=new J.a,e.mostrarDataDeclaration=!1):e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Declaraci\xf3n")}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Declaraci\xf3n")})},e.prototype.guardarRUC=function(){var e=this;this.validateRuc()?(this.REGCIVILOK||this.toastr.errorToastr("Esperando confirmaci\xf3n del Registro Civil","Registro Civil"),this.SRIOK||this.toastr.errorToastr("Esperando confirmaci\xf3n del SRI","SRI"),this.SRIOK&&this.REGCIVILOK&&(this.ruc_registro_selected.ruc.contact_user.ruc=this.ruc_registro_selected.ruc.number,this.ruc_registro_selected.ruc.person_representative_attachment.ruc=this.ruc_registro_selected.ruc.number,this.guardando=!0,void 0===this.ruc_registro_selected.ruc.id?this.rucDataService.register_ruc(this.ruc_registro_selected.ruc).then(function(t){e.guardando=!1,"0"!==t?(e.toastr.successToastr("Datos guardados satisfactoriamente.","Nuevo"),e.refresh()):e.toastr.errorToastr("Existe conflicto con el correo de la persona de contacto ingresada.","Nuevo")}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Nuevo")}):this.rucDataService.update_ruc(this.ruc_registro_selected.ruc).then(function(t){e.guardando=!1,"0"!==t?(e.toastr.successToastr("Registro actualizado satisfactoriamente.","Actualizar"),e.refresh()):e.toastr.errorToastr("Existe conflicto con el correo de la persona de contacto ingresada.","Actualizar")}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Nuevo")}))):this.toastr.errorToastr("Existe conflicto con la informaci\xf3n ingresada.","Nuevo")},e.prototype.guardarRegistro=function(){var e=this;this.guardando=!0,this.registerDataService.register_register_data(this.rucEstablishmentRegisterSelected).then(function(t){e.guardando=!1,e.refresh()}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto la informaci\xf3n proporcionada.","Nuevo")})},e.prototype.checkAgreement=function(){this.terminosCondiciones&&this.refresh()},e.prototype.getRegistersOnRuc=function(){var e=this;this.rucEstablishmentRegisterSelected=new se.a,this.mostrarDataRegister=!1,this.registerDataService.get_registers_by_ruc(this.user.ruc).then(function(t){e.ruc_registro_selected.registers=t,e.buildDataTableRegister()}).catch(function(e){console.log(e)})},e.prototype.onCellClickEstablishmentDeclaration=function(e){var t=this;this.ruc_registro_selected.ruc.establishments.forEach(function(n){n.ruc_code_id==e.row.code&&t.selectRegisterEstablishmentDeclaration(n)}),this.rowsEstablishment.forEach(function(t){t.selected=t.code==e.row.code?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""})},e.prototype.getTariffs=function(){var e=this;this.tarifas=[],this.tariffTypeDataService.get().then(function(t){var n=t;n.forEach(function(t){if("-"==t.father_code){var l=t,i=[];n.forEach(function(e){e.father_code==t.code&&i.push(e)}),e.tarifas.push({father:l,childs:i})}})}).catch(function(e){console.log(e)})},e.prototype.getEstablishmentWorkerGroup=function(){var e=this,t=[];return this.genders.forEach(function(n){e.worker_groups.forEach(function(e){var l=new ae.a;l.gender_id=n.id,l.gender_name=n.name,l.worker_group_id=e.id,l.worker_group_name=e.name,l.is_max=e.is_max,t.push(l)})}),t},e.prototype.getComplementaryServiceType=function(e){var t=this;this.complementary_service_types=[],this.complementary_service_typeDataService.get_filtered(e).then(function(e){t.complementary_service_types=e}).catch(function(e){return console.log(e)})},e.prototype.getAllowedInfo=function(){this.getRequisitesByRegisterType(),this.getBedTypes(),this.getCapacityTypes()},e.prototype.getBedTypes=function(){var e=this;this.alowed_bed_types=[],this.bedTypeDataService.get_filtered_by_register_type(this.rucEstablishmentRegisterSelected.register_type_id).then(function(t){e.alowed_bed_types=t}).catch(function(e){return console.log(e)})},e.prototype.getRequisitesByRegisterType=function(){var e=this,t=[];this.requisitesByRegisterType=[],this.rucEstablishmentRegisterSelected.requisites=[],this.showRequisites=!1,this.requisiteDataService.get_filtered(this.rucEstablishmentRegisterSelected.register_type_id).then(function(n){e.requisitesByRegisterType=n,e.requisitesByRegisterType.forEach(function(n){var l=!1;if(e.rucEstablishmentRegisterSelected.requisites.forEach(function(e){e.requisite_name==n.name&&(l=!0)}),!l){var i=new G.a;i.requisite_name=n.name,i.requisite_id=n.id,i.fullfill=!0,i.requisite_father_code=n.father_code,t.push(i)}}),e.showRequisites=!0;var l=[];t.forEach(function(e){"-"==e.requisite_father_code&&l.push(e)}),l.forEach(function(n){e.rucEstablishmentRegisterSelected.requisites.push(n),t.forEach(function(t){t.requisite_father_code==n.requisite_id.toString()&&e.rucEstablishmentRegisterSelected.requisites.push(t)})})}).catch(function(e){return console.log(e)})},e.prototype.getComplementaryServiceTypeCategories=function(){var e=this;this.complementary_service_types_categories=[],this.complementary_service_typeDataService.get_filtered("-").then(function(t){e.complementary_service_types_categories=t}).catch(function(e){return console.log(e)})},e.prototype.getCategories=function(){var e=this;this.categories_registers=[],this.rucEstablishmentRegisterSelected.requisites=[],this.register_typeDataService.get_filtered(this.categorySelectedCode).then(function(t){e.categories_registers=t}).catch(function(e){console.log(e)})},e.prototype.getEstablishmentCertificationTypesCategories=function(){var e=this;this.establishment_certification_types_categories=[],this.establishment_certification_typeDataService.get_filtered("-").then(function(t){e.establishment_certification_types_categories=t}).catch(function(e){return console.log(e)})},e.prototype.getEstablishmentCertificationTypesSpecific=function(e){e.establishment_certification_type_specifics=[],this.establishment_certification_typeDataService.get_filtered(e.establishment_certification_type_fatherCode).then(function(t){e.establishment_certification_type_specifics=t}).catch(function(e){return console.log(e)})},e.prototype.getEstablishmentPropertyType=function(){var e=this;this.establishment_property_types=[],this.establishment_property_typeDataService.get().then(function(t){e.establishment_property_types=t}).catch(function(e){return console.log(e)})},e.prototype.borrarCertificado=function(e){e.establishment_certification_attachment=new V.a},e.prototype.getGenders=function(){var e=this;this.genders=[],this.genderDataService.get().then(function(t){e.genders=t,e.buildWorkerGroups()}).catch(function(e){return console.log(e)})},e.prototype.getSystemNames=function(){var e=this;this.system_names=[],this.systemNameDataService.get().then(function(t){e.system_names=t}).catch(function(e){return console.log(e)})},e.prototype.getZonalesEstablishment=function(){var e=this;this.zonalesEstablishment=[],this.provinciasEstablishment=[],this.cantonesEstablishment=[],this.parroquiasEstablishment=[],this.zonalEstablishmentSelectedCode="-",this.provinciaEstablishmentSelectedCode="-",this.cantonEstablishmentSelectedCode="-",this.establishment_selected.ubication_id=0,this.ubicationDataService.get_filtered("-").then(function(t){e.zonalesEstablishment=t,t.forEach(function(t){e.ubicationDataService.get_filtered(t.code).then(function(t){t.forEach(function(t){e.provinciasEstablishment.push(t)}),e.provinciasEstablishment.sort()}).catch(function(e){console.log(e)})})}).catch(function(e){console.log(e)})},e.prototype.getCantonesEstablishment=function(){var e=this;this.provinciasEstablishment.forEach(function(t){t.code==e.provinciaEstablishmentSelectedCode&&(e.zonalEstablishmentSelectedCode=t.father_code.toString())}),this.cantonesEstablishment=[],this.parroquiasEstablishment=[],this.cantonEstablishmentSelectedCode="-",this.establishment_selected.ubication_id=0,this.ubicationDataService.get_filtered(this.provinciaEstablishmentSelectedCode).then(function(t){e.cantonesEstablishment=t}).catch(function(e){console.log(e)})},e.prototype.getCantonesEstablishmentRecovery=function(){var e=this;this.ubicationDataService.get_filtered(this.provinciaEstablishmentSelectedCode).then(function(t){e.cantonesEstablishment=t}).catch(function(e){console.log(e)})},e.prototype.getParroquiasEstablishmentRecovery=function(){var e=this;this.ubicationDataService.get_filtered(this.cantonEstablishmentSelectedCode).then(function(t){e.parroquiasEstablishment=t}).catch(function(e){console.log(e)})},e.prototype.getParroquiasEstablishment=function(){var e=this;this.parroquiasEstablishment=[],this.establishment_selected.ubication_id=0,this.ubicationDataService.get_filtered(this.cantonEstablishmentSelectedCode).then(function(t){e.parroquiasEstablishment=t}).catch(function(e){console.log(e)})},e.prototype.getMaxBed=function(e){this.alowed_capacity_types.forEach(function(t){t.id==e.capacity_type_id&&(e.max_bed=t.bed_quantity)})},e.prototype.setGroupTypeSelected=function(e){var t=this;this.groupTypeSelected=new $.a,this.group_types.forEach(function(n){n.id==e&&(t.groupTypeSelected=n)})},e.prototype.getGroupType=function(){var e=this;this.group_types=[],this.group_typeDataService.get().then(function(t){e.group_types=t}).catch(function(e){return console.log(e)})},e.prototype.validateEstablecimiento=function(){return!!("-"!==this.establishment_selected.ruc_code_id&&0!==this.establishment_selected.ruc_name_type_id&&this.establishmentComercialNameValidated&&0!==this.establishment_selected.establishment_property_type_id&&this.urlwebEstablishmentValidated&&0!==this.establishment_selected.ubication_id&&this.addressEstablishmentValidated&&""!==this.establishment_selected.address_reference&&this.identificationContactEstablishmentValidated&&this.mainPhoneContactEstablishmentValidated&&this.secondaryPhoneContactEstablishmentValidated&&this.emailContactEstablishmentValidated&&this.REGCIVILOKEstablishment)},e.prototype.validateWorkers=function(){var e=this,t=!0;return this.genders.forEach(function(n){var l=0;e.establishment_selected.workers_on_establishment.forEach(function(e){e.gender_name==n.name&&e.is_max&&(l=e.count)}),e.establishment_selected.workers_on_establishment.forEach(function(e){e.gender_name==n.name&&e.count>l&&(t=!1)})}),t},e.prototype.guardarEstablecimiento=function(){var e=this;this.validateWorkers()?(this.validateEstablecimiento()||this.toastr.errorToastr("Existe conflicto con la informaci\xf3n ingresada.","Nuevo"),this.REGCIVILOKEstablishment||this.toastr.errorToastr("Esperando confirmaci\xf3n del Registro Civil","Registro Civil"),this.REGCIVILOKEstablishment&&(this.guardando=!0,this.establishment_selected.ruc_id=this.ruc_registro_selected.ruc.id,this.establishmentDataService.register_establishment_data(this.establishment_selected).then(function(t){e.guardando=!1,"0"!==t?void 0===e.establishment_selected_picture.id?(e.establishment_selected_picture.establishment_id=t.id,e.establishmentPictureDataService.post(e.establishment_selected_picture).then(function(t){e.getEstablishmentsOnRuc(e.currentPageEstablishment),e.toastr.successToastr("Datos guardados satisfactoriamente.","Nuevo")}).catch(function(e){return console.log(e)})):e.establishmentPictureDataService.put(e.establishment_selected_picture).then(function(t){e.getEstablishmentsOnRuc(e.currentPageEstablishment),e.toastr.successToastr("Datos guardados satisfactoriamente.","Nuevo")}).catch(function(e){return console.log(e)}):e.toastr.errorToastr("Existe conflicto con el correo de la persona de contacto ingresada.","Nuevo")}).catch(function(t){e.guardando=!1,e.toastr.errorToastr("Existe conflicto con la informaci\xf3n ingresada.","Nuevo")}))):this.toastr.errorToastr("Existe conflicto con la informaci\xf3n ingresada referente a los Trabajadores en el Establecimiento.","Nuevo")},e.prototype.newRegisterRecord=function(){this.rucEstablishmentRegisterSelected=new se.a,this.mostrarDataRegister=!0},e.prototype.checkRuc=function(){var e=this;if(!this.consumoRuc||!this.SRIOK){if(this.rucData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al SRI...</strong></div>',this.ruc_registro_selected.ruc.number=this.ruc_registro_selected.ruc.number.replace(/[^\d]/,""),this.ruc_registro_selected.ruc.group_given.register_code="12",13!==this.ruc_registro_selected.ruc.number.length)return this.rucValidated=!1,this.consumoRuc=!1,this.ruc_registro_selected.ruc.baised_accounting=!1,void(this.ruc_registro_selected.ruc.tax_payer_type_id=1);this.consumoRuc||(this.consumoRuc=!0,this.rucValidated=!0,this.dinardapDataService.get_RUC(this.ruc_registro_selected.ruc.number).then(function(t){e.SRIOK=!0,e.rucValidated=!0;var n=t.return.instituciones.datosPrincipales.registros,l=[];l=Array.isArray(t.return.instituciones.detalle.items)?t.return.instituciones.detalle.items:[t.return.instituciones.detalle.items],e.ruc_registro_selected.ruc.establishmentsSRI=[],e.establishment_selected.ruc_code_id="-",l.forEach(function(t){var n=new B.a,l="";t.registros.forEach(function(e){"numeroEstableciminiento"===e.campo&&(n.numero=e.valor),"interseccion"===e.campo&&(l=e.valor),"tipoEstablecimiento"===e.campo&&(n.tipo=e.valor)}),n.direccion=l,e.ruc_registro_selected.ruc.establishmentsSRI.push(n)}),e.rucData="",n.forEach(function(t){"numeroRuc"===t.campo&&(e.rucValidated=t.valor===e.ruc_registro_selected.ruc.number),e.rucValidated&&("razonSocial"===t.campo&&(e.rucData+="<strong>Raz\xf3n Social: </strong> "+t.valor+"<br/>"),"fechaInicioActividades"===t.campo&&(e.rucData+="<strong>Fecha de Inicio de Actividades: </strong> "+t.valor+"<br/>"),"fechaActualizacion"===t.campo&&(e.rucData+="<strong>Fecha de Actualizaci\xf3n: </strong> "+t.valor+"<br/>"),"obligado"===t.campo&&("N"===t.valor?(e.ruc_registro_selected.ruc.baised_accounting=!1,e.rucData+="<strong>Obligado a Llevar Contabilidad: </strong> NO<br/>"):(e.ruc_registro_selected.ruc.baised_accounting=!0,e.rucData+="<strong>Obligado a Llevar Contabilidad: </strong> SI<br/>")),"tipoContribuyente"===t.campo&&(e.ruc_registro_selected.ruc.tax_payer_type_id="PERSONAS NATURALES"===t.valor?1:2,e.rucData+="<strong>Tipo de Contribuyente: </strong> "+t.valor+"<br/>"))})}).catch(function(t){e.rucData='<div class="alert alert-danger" role="alert">El SRI, no respondi\xf3. Vuelva a intentarlo.</div>',e.consumoRuc=!1,e.SRIOK=!1}))}},e.prototype.checkCedula=function(){var e=this;if(this.ruc_registro_selected.ruc.contact_user.identification=this.ruc_registro_selected.ruc.contact_user.identification.replace(/[^\d]/,""),10!==this.ruc_registro_selected.ruc.contact_user.identification.length)return this.identificationContactValidated=!1,void(this.consumoCedula=!1);this.consumoCedula&&this.REGCIVILOK||(this.cedulaData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al Registro Civil...</strong></div>',this.ruc_registro_selected.ruc.contact_user.identification===this.user.identification&&(this.ruc_registro_selected.ruc.contact_user=this.user,this.checkEmail(),this.checkTelefonoPrincipal(),this.checkTelefonoSecundario()),this.consumoCedula||(this.consumoCedula=!0,this.identificationContactValidated=!0,this.dinardapDataService.get_cedula(this.ruc_registro_selected.ruc.contact_user.identification).then(function(t){e.REGCIVILOK=!0;var n=t.return.instituciones.datosPrincipales.registros;e.cedulaData="",n.forEach(function(t){"cedula"===t.campo&&(e.identificationContactValidated=t.valor===e.ruc_registro_selected.ruc.contact_user.identification),e.identificationContactValidated&&("nombre"===t.campo&&(e.ruc_registro_selected.ruc.contact_user.name=t.valor,e.cedulaData+="<strong>Nombre: </strong> "+t.valor+"<br/>"),"fechaNacimiento"===t.campo&&(e.cedulaData+="<strong>Fecha de Nacimiento: </strong> "+t.valor+"<br/>"),"nacionalidad"===t.campo&&(e.cedulaData+="<strong>Nacionalidad: </strong> "+t.valor+"<br/>"))})}).catch(function(t){e.cedulaData='<div class="alert alert-danger" role="alert">El Registro Civil, no respondi\xf3. Vuelva a intentarlo.</div>',e.REGCIVILOK=!1,e.consumoCedula=!1})))},e.prototype.rucSaved=function(){return void 0!==this.ruc_registro_selected.ruc.id},e.prototype.checkCedulaEstablishment=function(){var e=this;if(this.establishment_selected.contact_user.identification=this.establishment_selected.contact_user.identification.replace(/[^\d]/,""),10!==this.establishment_selected.contact_user.identification.length)return this.identificationContactEstablishmentValidated=!1,void(this.consumoCedulaEstablishmentContact=!1);this.consumoCedulaEstablishmentContact&&this.REGCIVILOKEstablishment||(this.cedulaEstablishmentContactData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al Registro Civil...</strong></div>',this.consumoCedulaEstablishmentContact||(this.identificationContactEstablishmentValidated=!0,this.consumoCedulaEstablishmentContact=!0,this.dinardapDataService.get_cedula(this.establishment_selected.contact_user.identification).then(function(t){var n=t.return.instituciones.datosPrincipales.registros;e.cedulaEstablishmentContactData="",e.REGCIVILOKEstablishment=!0,n.forEach(function(t){"cedula"===t.campo&&(e.identificationContactEstablishmentValidated=t.valor===e.establishment_selected.contact_user.identification),e.identificationContactEstablishmentValidated&&("nombre"===t.campo&&(e.cedulaEstablishmentContactData+="<strong>Nombre: </strong> "+t.valor+"<br/>",e.establishment_selected.contact_user.name=t.valor),"fechaNacimiento"===t.campo&&(e.cedulaEstablishmentContactData+="<strong>Fecha de Nacimiento: </strong> "+t.valor+"<br/>"),"nacionalidad"===t.campo&&(e.cedulaEstablishmentContactData+="<strong>Nacionalidad: </strong> "+t.valor+"<br/>"))})}).catch(function(t){e.cedulaEstablishmentContactData='<div class="alert alert-danger" role="alert">El Registro Civil, no respondi\xf3. Vuelva a intentarlo.</div>',e.REGCIVILOKEstablishment=!1,e.consumoCedulaEstablishmentContact=!1})))},e.prototype.checkIdentificationRepresentant=function(){var e=this;if(this.ruc_registro_selected.ruc.person_representative.identification=this.ruc_registro_selected.ruc.person_representative.identification.replace(/[^\d]/,""),10!==this.ruc_registro_selected.ruc.person_representative.identification.length)return this.identificationRepresentativePersonValidated=!1,void(this.consumoCedulaRepresentanteLegal=!1);this.consumoCedulaRepresentanteLegal&&this.REGCIVILREPRESENTANTELEGALOK||(this.representanteCedulaData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al Registro Civil...</strong></div>',this.consumoCedulaRepresentanteLegal||(this.identificationRepresentativePersonValidated=!0,this.consumoCedulaRepresentanteLegal=!0,this.dinardapDataService.get_cedula(this.ruc_registro_selected.ruc.person_representative.identification).then(function(t){var n=t.return.instituciones.datosPrincipales.registros;e.representanteCedulaData="",e.REGCIVILREPRESENTANTELEGALOK=!0,n.forEach(function(t){"cedula"===t.campo&&(e.identificationRepresentativePersonValidated=t.valor===e.ruc_registro_selected.ruc.person_representative.identification),e.identificationRepresentativePersonValidated&&("nombre"===t.campo&&(e.representanteCedulaData+="<strong>Nombre: </strong> "+t.valor+"<br/>"),"fechaNacimiento"===t.campo&&(e.representanteCedulaData+="<strong>Fecha de Nacimiento: </strong> "+t.valor+"<br/>"),"nacionalidad"===t.campo&&(e.representanteCedulaData+="<strong>Nacionalidad: </strong> "+t.valor+"<br/>"))})}).catch(function(t){e.representanteCedulaData='<div class="alert alert-danger" role="alert">El Registro Civil, no respondi\xf3. Vuelva a intentarlo.</div>',e.REGCIVILREPRESENTANTELEGALOK=!1,e.consumoCedulaRepresentanteLegal=!1})))},e.prototype.checkTelefonoPrincipal=function(){return this.ruc_registro_selected.ruc.contact_user.main_phone_number=this.ruc_registro_selected.ruc.contact_user.main_phone_number.replace(/[^\d]/,""),this.ruc_registro_selected.ruc.contact_user.main_phone_number.length<9?(this.mainPhoneContactValidated=!1,!1):(this.mainPhoneContactValidated=!0,!0)},e.prototype.checkTelefonoPrincipalContactoEstablecimiento=function(){return this.establishment_selected.contact_user.main_phone_number=this.establishment_selected.contact_user.main_phone_number.replace(/[^\d]/,""),this.establishment_selected.contact_user.main_phone_number.length<9?(this.mainPhoneContactEstablishmentValidated=!1,!1):(this.mainPhoneContactEstablishmentValidated=!0,!0)},e.prototype.checkTelefonoSecundario=function(){return this.ruc_registro_selected.ruc.contact_user.secondary_phone_number=this.ruc_registro_selected.ruc.contact_user.secondary_phone_number.replace(/[^\d]/,""),this.ruc_registro_selected.ruc.contact_user.secondary_phone_number.length>0&&this.ruc_registro_selected.ruc.contact_user.secondary_phone_number.length<9?(this.secondaryPhoneContactValidated=!1,!1):(this.secondaryPhoneContactValidated=!0,!0)},e.prototype.checkTelefonoSecundarioContactoEstablecimiento=function(){return this.establishment_selected.contact_user.secondary_phone_number=this.establishment_selected.contact_user.secondary_phone_number.replace(/[^\d]/,""),this.establishment_selected.contact_user.secondary_phone_number.length>0&&this.establishment_selected.contact_user.secondary_phone_number.length<9?(this.secondaryPhoneContactEstablishmentValidated=!1,!1):(this.secondaryPhoneContactEstablishmentValidated=!0,!0)},e.prototype.checkTelefonoPrincipalEstablishment=function(){return this.establishment_selected.contact_user.main_phone_number=this.establishment_selected.contact_user.main_phone_number.replace(/[^\d]/,""),this.establishment_selected.contact_user.main_phone_number.length<9?(this.mainPhoneEstablishmentValidated=!1,!1):(this.mainPhoneEstablishmentValidated=!0,!0)},e.prototype.checkTelefonoSecundarioEstablishment=function(){return this.establishment_selected.contact_user.secondary_phone_number=this.establishment_selected.contact_user.secondary_phone_number.replace(/[^\d]/,""),this.establishment_selected.contact_user.secondary_phone_number.length>0&&this.establishment_selected.contact_user.secondary_phone_number.length<9?(this.secondaryPhoneEstablishmentValidated=!1,!1):(this.secondaryPhoneEstablishmentValidated=!0,!0)},e.prototype.checkEmail=function(){var e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.ruc_registro_selected.ruc.contact_user.email.toString());return this.emailContactValidated=e,this.emailContactValidated},e.prototype.checkEmailContactEstablishment=function(){var e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.establishment_selected.contact_user.email.toString());return this.emailContactEstablishmentValidated=e,this.emailContactEstablishmentValidated},e.prototype.checkURLWeb=function(){var e=/^(ftp|https?):\/\/+(www\.)?[a-z0-9\-\.]{3,}\.[a-z]{3}$/.test(this.establishment_selected.url_web.toString()),t=/^(www\.)?[a-z0-9\-\.]{3,}\.[a-z]{3}$/.test(this.establishment_selected.url_web.toString());return this.urlwebEstablishmentValidated=e||t||""==this.establishment_selected.url_web,this.urlwebEstablishmentValidated},e.prototype.checkEstablishmentComercialName=function(){return this.establishment_selected.commercially_known_name.length<1?(this.establishmentComercialNameValidated=!1,!1):(this.establishmentComercialNameValidated=!0,!0)},e.prototype.checkEstablishmentAddress=function(){return this.establishment_selected.address_main_street.length<5||this.establishment_selected.address_number.length<5||this.establishment_selected.address_secondary_street.length<5?(this.addressEstablishmentValidated=!1,!1):(this.addressEstablishmentValidated=!0,!0)},e.prototype.buildWorkerGroups=function(){var e=this;this.establishment_selected.workers_on_establishment=[],this.genders.forEach(function(t){e.worker_groups.forEach(function(n){var l=new ae.a;l.worker_group_id=n.id,l.worker_group_name=n.name,l.gender_id=t.id,l.gender_name=t.name,l.count=0,l.is_max=n.is_max,e.establishment_selected.workers_on_establishment.push(l)})})},e.prototype.getWorkerGroups=function(){var e=this;this.worker_groups=[],this.workerGroupDataService.get().then(function(t){e.worker_groups=t,e.getGenders()}).catch(function(e){return console.log(e)})},e.prototype.getTaxPayerType=function(){var e=this;this.tax_payer_types=[],this.tax_payer_typeDataService.get().then(function(t){e.tax_payer_types=t}).catch(function(e){return console.log(e)})},e.prototype.addPreviewRegisterCode=function(){var e=new ie.a;this.establishment_selected.preview_register_codes_on_establishment.push(e)},e.prototype.removePreviewRegisterCode=function(e){var t=[];this.establishment_selected.preview_register_codes_on_establishment.forEach(function(n){n!==e&&t.push(n)}),this.establishment_selected.preview_register_codes_on_establishment=t},e.prototype.address_mapEventEstablishment=function(e){this.establishment_selected.address_map_latitude=e.coords.lat,this.establishment_selected.address_map_longitude=e.coords.lng},e.prototype.selectRegisterEstablishment=function(e){var t=this;this.establishmentDataService.get_filtered(e.id).then(function(e){t.establishment_selected=e.establishment,t.recoverUbication(),t.checkEstablishmentAddress(),t.checkURLWeb(),t.checkEstablishmentComercialName(),t.establishment_selected.contact_user=e.contact_user,t.checkCedulaEstablishment(),t.checkTelefonoPrincipalContactoEstablecimiento(),t.checkTelefonoSecundarioContactoEstablecimiento(),t.checkEmailContactEstablishment(),t.buildWorkerGroups(),t.establishment_selected.workers_on_establishment=e.workers_on_establishment,t.establishment_selected.workers_on_establishment.forEach(function(e){t.genders.forEach(function(t){t.id==e.gender_id&&(e.gender_name=t.name)}),t.worker_groups.forEach(function(t){t.id==e.worker_group_id&&(e.worker_group_name=t.name)})}),t.establishment_selected.languages_on_establishment=e.languages_on_establishment,t.establishment_selected.establishment_certifications_on_establishment=e.establishment_certifications_on_establishment,t.establishment_selected.establishment_certifications_on_establishment.forEach(function(e){e.establishment_certification_attachment=new V.a,t.establishment_certification_types.forEach(function(n){e.establishment_certification_type_id==n.id&&(e.establishment_certification_type_fatherCode=n.father_code,t.getEstablishmentCertificationTypesSpecific(e))}),t.establishmentCertificationAttachmentDataService.get(e.establishment_certification_attachment_id).then(function(t){e.establishment_certification_attachment=t.EstablishmentCertificationAttachment}).catch(function(e){console.log(e)})}),t.mostrarDataEstablishment=!0}).catch(function(e){console.log(e)}),this.establishmentPictureDataService.get_by_establishment_id(e.id).then(function(e){t.establishment_selected_picture=e}).catch(function(e){console.log(e)})},e.prototype.selectRegisterEstablishmentDeclaration=function(e){this.establishment_declarations_selected=e,this.getDeclarationsByEstablishment(e.id),this.declaration_selected=new T.a,this.mostrarDataDeclaration=!1},e.prototype.recoverUbication=function(){var e=this;this.ubicationDataService.getByIdLower(this.establishment_selected.ubication_id).then(function(t){e.zonalEstablishmentSelectedCode=t.zonal.code,e.provinciaEstablishmentSelectedCode=t.provincia.code,e.cantonEstablishmentSelectedCode=t.canton.code,e.establishment_selected.ubication_id=t.parroquia.id,e.getCantonesEstablishmentRecovery(),e.getParroquiasEstablishmentRecovery()}).catch(function(e){console.log(e)})},e.prototype.newRegisterEstablishment=function(){this.establishment_selected=new J.a,this.establishment_selected.workers_on_establishment=this.getEstablishmentWorkerGroup(),this.mostrarDataEstablishment=!0},e.prototype.newPreviewRegisterCode=function(){},e.prototype.selectPreviewRegisterCode=function(e){this.preview_register_codes_establishmentSelected=e},e.prototype.selectLanguage=function(e){this.languages_establishmentSelectedId=e.id},e.prototype.addLanguage=function(){var e=this;0!==this.languages_establishmentSelectedId?this.languages.forEach(function(t){if(t.id==e.languages_establishmentSelectedId){var n=!1;e.establishment_selected.languages_on_establishment.forEach(function(e){e.id==t.id&&(n=!0)}),n?e.toastr.errorToastr("El registro ya existe.","Error"):(e.establishment_selected.languages_on_establishment.push(t),e.languages_establishmentSelectedId=0)}}):this.toastr.errorToastr("Seleccione un coordinador.","Error")},e.prototype.getLanguage=function(){var e=this;this.languages=[],this.languageDataService.get().then(function(t){e.languages=t}).catch(function(e){return console.log(e)})},e.prototype.getLanguagesOnEstablishment=function(){var e=this;this.establishment_selected.languages_on_establishment=[],this.establishmentDataService.get(this.establishment_selected.id).then(function(t){e.establishment_selected.languages_on_establishment=t.attach[0].languages_on_establishment}).catch(function(e){return console.log(e)})},e.prototype.removeLanguage=function(){var e=this;if(0!==this.languages_establishmentSelectedId){var t=[],n=!1;this.establishment_selected.languages_on_establishment.forEach(function(l){l.id!==e.languages_establishmentSelectedId?t.push(l):n=!0}),n?(this.establishment_selected.languages_on_establishment=t,this.languages_establishmentSelectedId=0):this.toastr.errorToastr("Registro no encontrado.","Error")}else this.toastr.errorToastr("Seleccione un coordinador.","Error")},e.prototype.selectWorker=function(e){this.worker_establishmentSelected=e},e.prototype.addWorker=function(){var e=new ae.a;this.establishment_selected.workers_on_establishment.push(e)},e.prototype.removeWorker=function(e){var t=[];this.establishment_selected.workers_on_establishment.forEach(function(n){n!==e&&t.push(n)}),this.establishment_selected.workers_on_establishment=t},e.prototype.selectEstablishmentCertification=function(e){this.establishment_certifications_establishmentSelected=e},e.prototype.addEstablishmentCertification=function(){var e=new H.a;this.establishment_selected.establishment_certifications_on_establishment.push(e)},e.prototype.removeEstablishmentCertification=function(e){var t=[];this.establishment_selected.establishment_certifications_on_establishment.forEach(function(n){n!==e&&t.push(n)}),this.establishment_selected.establishment_certifications_on_establishment=t},e.prototype.downloadEstablishmentCertification=function(e){var t=this;this.establishment_selected.establishment_certifications_on_establishment.forEach(function(n){n==e&&t.downloadFile(n.establishment_certification_attachment.establishment_certification_attachment_file,n.establishment_certification_attachment.establishment_certification_attachment_file_type,n.establishment_certification_attachment.establishment_certification_attachment_file_name)})},e.prototype.downloadFile=function(e,t,n){for(var l=atob(e),i=new Array(l.length),a=0;a<l.length;a++)i[a]=l.charCodeAt(a);var s=new Uint8Array(i),r=new Blob([s],{type:t});Object(W.saveAs)(r,n)},e.prototype.CodificarArchivoEstablishmentCertification=function(e,t){var n=this,l=new FileReader;if(e.target.files&&e.target.files.length>0){var i=e.target.files[0];l.readAsDataURL(i),l.onload=function(){n.establishment_selected.establishment_certifications_on_establishment.forEach(function(e){e==t&&(e.establishment_certification_attachment.establishment_certification_attachment_file=l.result.toString().split(",")[1],e.establishment_certification_attachment.establishment_certification_attachment_file_type=i.type,e.establishment_certification_attachment.establishment_certification_attachment_file_name=i.name)})}}},e.prototype.selectEstablishmentRegister=function(e){var t=this;this.mostrarDataRegister=!1,this.newTariffs(),this.rucEstablishmentRegisterSelected=new se.a,this.registerDataService.get_register_data(e.id).then(function(e){t.rucEstablishmentRegisterSelected=e.register,t.getTramiteStatus(t.rucEstablishmentRegisterSelected.status),t.rucEstablishmentRegisterSelected.status=e.status.state_id,t.categorySelectedCode=e.register_category.code,t.rucEstablishmentRegisterSelected.complementary_service_types_on_register=e.complementary_service_types_on_register,t.rucEstablishmentRegisterSelected.complementary_service_foods_on_register=e.complementary_service_foods_on_register,t.rucEstablishmentRegisterSelected.capacities_on_register=e.capacities_on_register,t.getCategories(),t.getAllowedInfo(),t.alowed_capacity_types=[],t.capacityTypeDataService.get_filtered_by_register_type(t.rucEstablishmentRegisterSelected.register_type_id).then(function(e){t.alowed_capacity_types=e,t.mostrarDataRegister=!0,t.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(e){t.getMaxBed(e),t.calcBeds(e)}),t.calcSpaces()}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},e.prototype.selectComplementaryServiceType=function(e){this.complementary_service_types_registerSelectedId=e.id},e.prototype.getTramiteStatus=function(e){var t=this;this.statesAlojamiento.forEach(function(n){n.id==e&&(t.estado_tramite_selected_code=n.father_code,t.getSpecificStates())})},e.prototype.getSpecificStates=function(){var e=this;this.specific_states=[],this.statesAlojamiento.forEach(function(t){t.father_code==e.estado_tramite_selected_code&&e.specific_states.push(t)})},e.prototype.getDeclarationStates=function(){var e=this;this.stateDataService.get().then(function(t){e.declarationstates=t}).catch(function(e){console.log(e)})},e.prototype.addComplementaryServiceType=function(){var e=this;0!==this.complementary_service_types_registerSelectedId?this.complementary_service_types.forEach(function(t){if(t.id==e.complementary_service_types_registerSelectedId){var n=!1;e.rucEstablishmentRegisterSelected.complementary_service_types_on_register.forEach(function(e){e.id==t.id&&(n=!0)}),n?e.toastr.errorToastr("El registro ya existe.","Error"):(e.rucEstablishmentRegisterSelected.complementary_service_types_on_register.push(t),e.complementary_service_types_registerSelectedId=0)}}):this.toastr.errorToastr("Seleccione un coordinador.","Error")},e.prototype.validateRegister=function(){var e=0==this.rucEstablishmentRegisterSelected.establishment_id,t=0==this.rucEstablishmentRegisterSelected.status,n="-"==this.categorySelectedCode,l=0==this.rucEstablishmentRegisterSelected.register_type_id,i=0==this.rucEstablishmentRegisterSelected.total_spaces,a=!1;this.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(e){a||(a=e.quantity*e.total_spaces==0)});var s=!1;return this.rucEstablishmentRegisterSelected.complementary_service_foods_on_register.forEach(function(e){s||(s=0==e.complementary_service_food_type_id)}),!(e||t||n||l||i||a||s)},e.prototype.removeComplementaryServiceType=function(){var e=this;if(0!==this.complementary_service_types_registerSelectedId){var t=[],n=!1;this.rucEstablishmentRegisterSelected.complementary_service_types_on_register.forEach(function(l){l.id!==e.complementary_service_types_registerSelectedId?t.push(l):n=!0}),n?(this.rucEstablishmentRegisterSelected.complementary_service_types_on_register=t,this.complementary_service_types_registerSelectedId=0):this.toastr.errorToastr("Registro no encontrado.","Error")}else this.toastr.errorToastr("Seleccione un coordinador.","Error")},e.prototype.subirFotoFachada=function(){this.fotoFachadaInput.nativeElement.click()},e.prototype.CodificarArchivo=function(e){var t=this,n=new FileReader;if(e.target.files&&e.target.files.length>0){var l=e.target.files[0];n.readAsDataURL(l),n.onload=function(){t.establishment_selected_picture.establishment_picture_file_name=l.name,t.establishment_selected_picture.establishment_picture_file_type=l.type,t.establishment_selected_picture.establishment_picture_file=n.result.toString().split(",")[1]}}},e.prototype.goToPageEstablishment=function(e){e<1||e>this.lastPageEstablishment?this.toastr.errorToastr("La p\xe1gina solicitada no existe.","Error"):this.currentPageEstablishment=e},e.prototype.goToPageRegister=function(e){this.mostrarDataRegister=!1,this.ruc_registro_selected.registers=[],this.rucEstablishmentRegisterSelected=new se.a,this.getRegistersOnRuc(),e<1||e>this.lastPageRegister?this.toastr.errorToastr("La p\xe1gina solicitada no existe.","Error"):this.currentPageRegister=e},e.prototype.selectBed=function(e){this.bedSelected=e},e.prototype.addBed=function(e){var t=new q.a;e.total_spaces=0,e.beds_on_capacity.push(t)},e.prototype.removeBed=function(e){var t=this,n=[];e.total_spaces=0,e.beds_on_capacity.forEach(function(e){e!==t.bedSelected&&n.push(e)}),e.beds_on_capacity=n},e.prototype.addCapacity=function(){var e=new j.a;this.rucEstablishmentRegisterSelected.total_spaces=0,this.rucEstablishmentRegisterSelected.capacities_on_register.push(e)},e.prototype.newTariffs=function(){var e=[];return this.tarifas.forEach(function(t){t.childs.forEach(function(n){var l=new he.a;l.tariff_father_name=t.father.name,l.tariff_name=n.name,l.tariff_type_id=n.id,e.push(l)})}),e},e.prototype.removeCapacity=function(e){var t=[];this.rucEstablishmentRegisterSelected.total_spaces=0,this.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(n){e!==n&&t.push(n)}),this.rucEstablishmentRegisterSelected.capacities_on_register=t},e.prototype.calcSpaces=function(){var e=this;this.rucEstablishmentRegisterSelected.total_spaces=0,this.rucEstablishmentRegisterSelected.total_habitations=0,this.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(t){e.rucEstablishmentRegisterSelected.total_spaces+=t.total_spaces*t.quantity,e.rucEstablishmentRegisterSelected.total_habitations+=t.quantity}),this.validateTariffs(),this.rucEstablishmentRegisterSelected.capacities_on_register.forEach(function(t){e.calcBeds(t)})},e.prototype.calcBeds=function(e){var t=this;e.total_spaces=0;var n=0;e.beds_on_capacity.forEach(function(l){var i=0;n+=l.quantity,t.alowed_bed_types.forEach(function(e){e.id==l.bed_type_id&&(i=l.quantity)}),e.total_spaces+=i}),e.max_bed_ok=n==e.max_bed,this.validateTariffs()},e.prototype.selectCapacity=function(e){this.capacitySelected=e},e.prototype.openDialog=function(e,t){this.statusSelected=t,this.modalService.open(e,{centered:!0,size:"sm"}).result.then(function(e){},function(e){})},e}(),Pe=n("3EpR"),Ae=l["\u0275crt"]({encapsulation:0,styles:[['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#218838}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #218838}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(26px);transform:translateX(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']],data:{}});function ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"input",[["class","form-control"],["placeholder","Buscar..."]],null,[[null,"input"]],function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,1).onChangeFilter(n.target.value)&&i),"input"===t&&(i=!1!==a.onChangeTable(a.config)&&i),i},null,null)),l["\u0275did"](1,16384,null,0,s.NgTableFilteringDirective,[l.ElementRef,l.Renderer],{ngTableFiltering:[0,"ngTableFiltering"]},null)],function(e,t){e(t,1,0,t.component.config.filtering)},null)}function Ve(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Primera"]))],null,null)}function Ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Anterior"]))],null,null)}function xe(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Siguiente"]))],null,null)}function Fe(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["\xdaltima"]))],null,null)}function Oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,15,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],function(e,t,n){var l=!0,i=e.component;return"pageChange"===t&&(l=!1!==(i.currentPageMinturRegisters=n)&&l),"pageChange"===t&&(l=!1!==i.onChangeTable(i.config,n)&&l),l},r.g,r.d)),l["\u0275did"](1,573440,null,6,o.C,[o.D],{boundaryLinks:[0,"boundaryLinks"],collectionSize:[1,"collectionSize"],maxSize:[2,"maxSize"],page:[3,"page"],pageSize:[4,"pageSize"]},{pageChange:"pageChange"}),l["\u0275qud"](335544320,3,{tplEllipsis:0}),l["\u0275qud"](335544320,4,{tplFirst:0}),l["\u0275qud"](335544320,5,{tplLast:0}),l["\u0275qud"](335544320,6,{tplNext:0}),l["\u0275qud"](335544320,7,{tplNumber:0}),l["\u0275qud"](335544320,8,{tplPrevious:0}),(e()(),l["\u0275and"](0,null,null,1,null,Ve)),l["\u0275did"](9,16384,[[4,4]],0,o.E,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,Ne)),l["\u0275did"](11,16384,[[8,4]],0,o.I,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,xe)),l["\u0275did"](13,16384,[[6,4]],0,o.H,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,Fe)),l["\u0275did"](15,16384,[[5,4]],0,o.F,[l.TemplateRef],null,null)],function(e,t){var n=t.component;e(t,1,0,!0,n.registers_mintur.length,10,n.currentPageMinturRegisters,n.recordsByPageRegisterMintur)},null)}function Me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\xd3rdenes de Pagos"])),(e()(),l["\u0275eld"](4,0,null,null,8,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,7,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,6,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.refresh()&&l),l},null,null)),(e()(),l["\u0275eld"](8,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"button",[["class","btn btn-success"],["title","Nueva \xd3rden de Pago"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.nuevaOrdenDePago()&&l),l},null,null)),(e()(),l["\u0275eld"](10,0,null,null,0,"i",[["class","fas fa-file"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,1,"button",[["class","btn btn-danger"],["title","Borrar \xd3rden de Pago"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.borrarOrdenDePago()&&l),l},null,null)),(e()(),l["\u0275eld"](12,0,null,null,0,"i",[["class","fas fa-trash"]],null,null,null,null,null))],null,function(e,t){e(t,11,0,!0)})}function Le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"span",[["class","far fa-hand-point-right"]],null,null,null,null,null))],null,null)}function qe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-success"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Pagado"]))],null,null)}function je(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-danger"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["No Pagado"]))],null,null)}function Ge(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.amount_payed)})}function ze(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,17,"tr",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.selectPay(e.context.$implicit)&&l),l},null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Le)),l["\u0275did"](3,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["",""])),(e()(),l["\u0275eld"](6,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,qe)),l["\u0275did"](8,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,je)),l["\u0275did"](10,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](11,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ge)),l["\u0275did"](13,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](14,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](15,null,["",""])),(e()(),l["\u0275eld"](16,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](17,null,["",""]))],function(e,t){e(t,3,0,t.component.pay===t.context.$implicit),e(t,8,0,t.context.$implicit.payed),e(t,10,0,!t.context.$implicit.payed),e(t,13,0,-1!=t.context.$implicit.amount_payed)},function(e,t){e(t,5,0,t.context.$implicit.code),e(t,15,0,t.context.$implicit.amount_to_pay),e(t,17,0,t.context.$implicit.pay_date)})}function Ue(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,18,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,17,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Seleccionado"])),(e()(),l["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["C\xf3digo"])),(e()(),l["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Estado"])),(e()(),l["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Valor Pagado"])),(e()(),l["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Valor a Pagar"])),(e()(),l["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Fecha de Pago"])),(e()(),l["\u0275eld"](17,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,ze)),l["\u0275did"](19,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,19,0,t.component.pays)},null)}function Be(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,13,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Valor a Pagar"])),(e()(),l["\u0275eld"](4,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,6,"input",[["class","form-control"],["id","declarationValueToPay"],["name","declarationValueToPay"],["placeholder","Valor a Pagar"],["step","0.01"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,6)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,6).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,6)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,6)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l["\u0275nov"](e,7).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,7).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,7).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(a.pay.amount_to_pay=n)&&i),i},null,null)),l["\u0275did"](6,16384,null,0,c.d,[l.Renderer2,l.ElementRef,[2,c.a]],null,null),l["\u0275did"](7,16384,null,0,c.q,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,c.h,function(e,t){return[e,t]},[c.d,c.q]),l["\u0275did"](9,671744,null,0,c.m,[[8,null],[8,null],[8,null],[6,c.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.i,null,[c.m]),l["\u0275did"](11,16384,null,0,c.j,[[4,c.i]],null,null),(e()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["USD"])),(e()(),l["\u0275eld"](15,0,null,null,11,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Estado"])),(e()(),l["\u0275eld"](18,0,null,null,8,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,7,"label",[["class","switch"]],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,5,"input",[["disabled",""],["id","payed"],["name","payed"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==l["\u0275nov"](e,21).onChange(n.target.checked)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,21).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(a.pay.payed=n)&&i),i},null,null)),l["\u0275did"](21,16384,null,0,c.b,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,c.h,function(e){return[e]},[c.b]),l["\u0275did"](23,671744,null,0,c.m,[[8,null],[8,null],[8,null],[6,c.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.i,null,[c.m]),l["\u0275did"](25,16384,null,0,c.j,[[4,c.i]],null,null),(e()(),l["\u0275eld"](26,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,9,0,"declarationValueToPay",n.pay.payed,n.pay.amount_to_pay),e(t,23,0,"payed","",n.pay.payed)},function(e,t){e(t,5,0,l["\u0275nov"](t,11).ngClassUntouched,l["\u0275nov"](t,11).ngClassTouched,l["\u0275nov"](t,11).ngClassPristine,l["\u0275nov"](t,11).ngClassDirty,l["\u0275nov"](t,11).ngClassValid,l["\u0275nov"](t,11).ngClassInvalid,l["\u0275nov"](t,11).ngClassPending),e(t,20,0,l["\u0275nov"](t,25).ngClassUntouched,l["\u0275nov"](t,25).ngClassTouched,l["\u0275nov"](t,25).ngClassPristine,l["\u0275nov"](t,25).ngClassDirty,l["\u0275nov"](t,25).ngClassValid,l["\u0275nov"](t,25).ngClassInvalid,l["\u0275nov"](t,25).ngClassPending)})}function Ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,2,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.saveToPayValue()&&l),l},null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"span",[["class","fas fa-money-check-alt"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\xa0Cargar Valor a Pagar "])),(e()(),l["\u0275eld"](5,0,null,null,2,"button",[["class","btn btn-danger ml-2"],["title","Cancelar Cambios"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.refresh()&&l),l},null,null)),(e()(),l["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Cancelar"]))],null,null)}function $e(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Resultado de la Revisi\xf3n"]))],null,null)}function Ye(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,35,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,9,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Fecha de la Revisi\xf3n"])),(e()(),l["\u0275eld"](4,0,null,null,6,"input",[["class","form-control"],["id","date_fullfill"],["name","date_fullfill"],["placeholder","Fecha de Revisi\xf3n"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,5)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,5).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,5)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(a.registerApprovalFinanciero.date_fullfill=n)&&i),i},null,null)),l["\u0275did"](5,16384,null,0,c.d,[l.Renderer2,l.ElementRef,[2,c.a]],null,null),l["\u0275prd"](1024,null,c.h,function(e){return[e]},[c.d]),l["\u0275did"](7,671744,null,0,c.m,[[8,null],[8,null],[8,null],[6,c.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275ppd"](8,2),l["\u0275prd"](2048,null,c.i,null,[c.m]),l["\u0275did"](10,16384,null,0,c.j,[[4,c.i]],null,null),(e()(),l["\u0275eld"](11,0,null,null,24,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Estado del Tr\xe1mite"])),(e()(),l["\u0275eld"](14,0,null,null,21,"select",[["class","form-control"],["id","stateTramit"],["name","stateTramit"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==l["\u0275nov"](e,15).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,15).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(a.inspectionState=n)&&i),i},null,null)),l["\u0275did"](15,16384,null,0,c.o,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,c.h,function(e){return[e]},[c.o]),l["\u0275did"](17,671744,null,0,c.m,[[8,null],[8,null],[8,null],[6,c.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.i,null,[c.m]),l["\u0275did"](19,16384,null,0,c.j,[[4,c.i]],null,null),(e()(),l["\u0275eld"](20,0,null,null,3,"option",[["selected",""],["value","0"]],null,null,null,null,null)),l["\u0275did"](21,147456,null,0,c.n,[l.ElementRef,l.Renderer2,[2,c.o]],{value:[0,"value"]},null),l["\u0275did"](22,147456,null,0,c.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Pendiente"])),(e()(),l["\u0275eld"](24,0,null,null,3,"option",[["selected",""],["value","1"]],null,null,null,null,null)),l["\u0275did"](25,147456,null,0,c.n,[l.ElementRef,l.Renderer2,[2,c.o]],{value:[0,"value"]},null),l["\u0275did"](26,147456,null,0,c.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Aprobado"])),(e()(),l["\u0275eld"](28,0,null,null,3,"option",[["selected",""],["value","2"]],null,null,null,null,null)),l["\u0275did"](29,147456,null,0,c.n,[l.ElementRef,l.Renderer2,[2,c.o]],{value:[0,"value"]},null),l["\u0275did"](30,147456,null,0,c.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Negado"])),(e()(),l["\u0275eld"](32,0,null,null,3,"option",[["selected",""],["value","3"]],null,null,null,null,null)),l["\u0275did"](33,147456,null,0,c.n,[l.ElementRef,l.Renderer2,[2,c.o]],{value:[0,"value"]},null),l["\u0275did"](34,147456,null,0,c.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Requerimiento Al Usuario"]))],function(e,t){var n=t.component,i=l["\u0275unv"](t,7,1,e(t,8,0,l["\u0275nov"](t.parent,0),n.registerApprovalFinanciero.date_fullfill,"y-MM-dd"));e(t,7,0,"date_fullfill",i),e(t,17,0,"stateTramit",n.inspectionState),e(t,21,0,"0"),e(t,22,0,"0"),e(t,25,0,"1"),e(t,26,0,"1"),e(t,29,0,"2"),e(t,30,0,"2"),e(t,33,0,"3"),e(t,34,0,"3")},function(e,t){e(t,4,0,l["\u0275nov"](t,10).ngClassUntouched,l["\u0275nov"](t,10).ngClassTouched,l["\u0275nov"](t,10).ngClassPristine,l["\u0275nov"](t,10).ngClassDirty,l["\u0275nov"](t,10).ngClassValid,l["\u0275nov"](t,10).ngClassInvalid,l["\u0275nov"](t,10).ngClassPending),e(t,14,0,l["\u0275nov"](t,19).ngClassUntouched,l["\u0275nov"](t,19).ngClassTouched,l["\u0275nov"](t,19).ngClassPristine,l["\u0275nov"](t,19).ngClassDirty,l["\u0275nov"](t,19).ngClassValid,l["\u0275nov"](t,19).ngClassInvalid,l["\u0275nov"](t,19).ngClassPending)})}function We(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,8,"div",[["class","col-12 mt-3 mb-2"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Observaciones"])),(e()(),l["\u0275eld"](4,0,null,null,5,"ck-editor",[["id","notes"],["name","notes"],["skin","moono-lisa"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,t,n){var l=!0;return"ngModelChange"===t&&(l=!1!==(e.component.registerApprovalFinanciero.notes=n)&&l),l},d.b,d.a)),l["\u0275did"](5,9158656,null,0,h.a,[l.NgZone,l.ElementRef],{skin:[0,"skin"],id:[1,"id"]},null),l["\u0275prd"](1024,null,c.h,function(e){return[e]},[h.a]),l["\u0275did"](7,671744,null,0,c.m,[[8,null],[8,null],[8,null],[6,c.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.i,null,[c.m]),l["\u0275did"](9,16384,null,0,c.j,[[4,c.i]],null,null),(e()(),l["\u0275eld"](10,0,null,null,6,"div",[["class","col-12 text-center mb-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,2,"button",[["class","btn btn-success"],["title","Guardar Informaci\xf3n Revisi\xf3n"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.guardarInspeccion()&&l),l},null,null)),(e()(),l["\u0275eld"](12,0,null,null,0,"i",[["class","fas fa-save"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Guardar Informaci\xf3n"])),(e()(),l["\u0275eld"](14,0,null,null,2,"button",[["class","btn btn-danger ml-2"],["title","Cancelar Cambios"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.refresh()&&l),l},null,null)),(e()(),l["\u0275eld"](15,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Cancelar"]))],function(e,t){var n=t.component;e(t,5,0,"moono-lisa","notes"),e(t,7,0,"notes",n.registerApprovalFinanciero.notes)},function(e,t){var n=t.component;e(t,4,0,l["\u0275nov"](t,9).ngClassUntouched,l["\u0275nov"](t,9).ngClassTouched,l["\u0275nov"](t,9).ngClassPristine,l["\u0275nov"](t,9).ngClassDirty,l["\u0275nov"](t,9).ngClassValid,l["\u0275nov"](t,9).ngClassInvalid,l["\u0275nov"](t,9).ngClassPending),e(t,11,0,!n.validateInspectionInfo())})}function Je(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"input",[["class","form-control"],["placeholder","Buscar..."]],null,[[null,"input"]],function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,1).onChangeFilter(n.target.value)&&i),"input"===t&&(i=!1!==a.onChangeTableEstablishment(a.config)&&i),i},null,null)),l["\u0275did"](1,16384,null,0,s.NgTableFilteringDirective,[l.ElementRef,l.Renderer],{ngTableFiltering:[0,"ngTableFiltering"]},null)],function(e,t){e(t,1,0,t.component.config.filtering)},null)}function He(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Primera"]))],null,null)}function Qe(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Anterior"]))],null,null)}function Ze(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Siguiente"]))],null,null)}function Xe(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["\xdaltima"]))],null,null)}function et(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,15,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],function(e,t,n){var l=!0,i=e.component;return"pageChange"===t&&(l=!1!==(i.currentPageEstablishment=n)&&l),"pageChange"===t&&(l=!1!==i.onChangeTableEstablishment(i.config,n)&&l),l},r.g,r.d)),l["\u0275did"](1,573440,null,6,o.C,[o.D],{boundaryLinks:[0,"boundaryLinks"],collectionSize:[1,"collectionSize"],maxSize:[2,"maxSize"],page:[3,"page"],pageSize:[4,"pageSize"]},{pageChange:"pageChange"}),l["\u0275qud"](335544320,12,{tplEllipsis:0}),l["\u0275qud"](335544320,13,{tplFirst:0}),l["\u0275qud"](335544320,14,{tplLast:0}),l["\u0275qud"](335544320,15,{tplNext:0}),l["\u0275qud"](335544320,16,{tplNumber:0}),l["\u0275qud"](335544320,17,{tplPrevious:0}),(e()(),l["\u0275and"](0,null,null,1,null,He)),l["\u0275did"](9,16384,[[13,4]],0,o.E,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,Qe)),l["\u0275did"](11,16384,[[17,4]],0,o.I,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,Ze)),l["\u0275did"](13,16384,[[15,4]],0,o.H,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,Xe)),l["\u0275did"](15,16384,[[14,4]],0,o.F,[l.TemplateRef],null,null)],function(e,t){var n=t.component;e(t,1,0,!0,n.ruc_registro_selected.ruc.establishments.length,10,n.currentPageEstablishment,n.recordsByPageEstablishment)},null)}function tt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"span",[["class","far fa-hand-point-right"]],null,null,null,null,null))],null,null)}function nt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,9,"tr",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.selectDeclaration(e.context.$implicit)&&l),l},null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,tt)),l["\u0275did"](3,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["",""])),(e()(),l["\u0275eld"](6,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,["",""])),(e()(),l["\u0275eld"](8,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](9,null,["",""]))],function(e,t){e(t,3,0,t.component.declaration_selected===t.context.$implicit)},function(e,t){e(t,5,0,t.context.$implicit.year),e(t,7,0,t.context.$implicit.declaration_date),e(t,9,0,t.context.$implicit.status_name)})}function lt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,27,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,26,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,3,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,2,"h4",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Declaraciones de Impuestos"])),(e()(),l["\u0275eld"](6,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,3,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.getEstablishmentsOnRuc(i.currentPageDeclaration)&&l),l},null,null)),(e()(),l["\u0275eld"](11,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,14,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](14,0,null,null,13,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(e()(),l["\u0275eld"](15,0,null,null,9,"thead",[],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Seleccionado"])),(e()(),l["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["A\xf1o"])),(e()(),l["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Fecha de Declaraci\xf3n"])),(e()(),l["\u0275eld"](23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Estado"])),(e()(),l["\u0275eld"](25,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,nt)),l["\u0275did"](27,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,27,0,t.component.declarations)},null)}function it(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](1,147456,null,0,c.n,[l.ElementRef,l.Renderer2,[2,c.o]],{value:[0,"value"]},null),l["\u0275did"](2,147456,null,0,c.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](3,null,[" "," "]))],function(e,t){e(t,1,0,l["\u0275inlineInterpolate"](1,"",t.context.$implicit.id,"")),e(t,2,0,l["\u0275inlineInterpolate"](1,"",t.context.$implicit.id,""))},function(e,t){e(t,3,0,t.context.$implicit.name)})}function at(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Fecha M\xe1xima de Pago"])),(e()(),l["\u0275eld"](5,0,null,null,3,"h3",[],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,["",""])),l["\u0275ppd"](8,2),(e()(),l["\u0275eld"](9,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Opciones"])),(e()(),l["\u0275eld"](13,0,null,null,6,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),l["\u0275eld"](14,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](15,0,null,null,1,"button",[["class","btn-lg btn-success"],["title","Descargar Pago"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.goToPage(i.currentPage)&&l),l},null,null)),(e()(),l["\u0275eld"](16,0,null,null,0,"i",[["class","fas fa-cash-register"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,1,"button",[["class","btn-lg btn-primary"],["title","Descargar Declaraci\xf3n"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.goToPage(i.currentPage)&&l),l},null,null)),(e()(),l["\u0275eld"](19,0,null,null,0,"i",[["class","fas fa-file-invoice-dollar "]],null,null,null,null,null))],null,function(e,t){var n=t.component,i=l["\u0275unv"](t,7,0,e(t,8,0,l["\u0275nov"](t.parent.parent.parent.parent,0),n.declaration_selected.max_date_to_pay,"y-MM-dd"));e(t,7,0,i)})}function st(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"strong",[["class","text-danger"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[""," USD"]))],null,function(e,t){e(t,1,0,t.component.payDeclarationSelected.amount_payed)})}function rt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"strong",[["class","text-success"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[""," USD"]))],null,function(e,t){e(t,1,0,t.component.payDeclarationSelected.amount_payed)})}function ot(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"strong",[["class","text-warning"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[""," USD"]))],null,function(e,t){e(t,1,0,t.component.payDeclarationSelected.amount_payed)})}function ut(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"strong",[["class","text-success"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""])),l["\u0275ppd"](2,2)],null,function(e,t){var n=t.component,i=l["\u0275unv"](t,1,0,e(t,2,0,l["\u0275nov"](t.parent.parent.parent.parent.parent,0),n.payDeclarationSelected.pay_date,"y-MM-dd"));e(t,1,0,i)})}function ct(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"strong",[["class","text-danger"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""])),l["\u0275ppd"](2,2)],null,function(e,t){var n=t.component,i=l["\u0275unv"](t,1,0,e(t,2,0,l["\u0275nov"](t.parent.parent.parent.parent.parent,0),n.payDeclarationSelected.pay_date,"y-MM-dd"));e(t,1,0,i)})}function dt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Monto a Pagar"])),(e()(),l["\u0275eld"](5,0,null,null,2,"h3",[],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,[""," USD"])),(e()(),l["\u0275eld"](8,0,null,null,10,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Monto Pagado"])),(e()(),l["\u0275eld"](12,0,null,null,6,"h3",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,st)),l["\u0275did"](14,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,rt)),l["\u0275did"](16,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ot)),l["\u0275did"](18,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](19,0,null,null,8,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](21,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Fecha de Pago"])),(e()(),l["\u0275eld"](23,0,null,null,4,"h3",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,ut)),l["\u0275did"](25,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ct)),l["\u0275did"](27,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,14,0,n.payDeclarationSelected.amount_payed<n.payDeclarationSelected.amount_to_pay),e(t,16,0,n.payDeclarationSelected.amount_payed==n.payDeclarationSelected.amount_to_pay),e(t,18,0,n.payDeclarationSelected.amount_payed>n.payDeclarationSelected.amount_to_pay),e(t,25,0,n.payDeclarationSelected.pay_date<=n.declaration_selected.max_date_to_pay),e(t,27,0,n.payDeclarationSelected.pay_date>n.declaration_selected.max_date_to_pay)},function(e,t){e(t,7,0,t.component.payDeclarationSelected.amount_to_pay)})}function ht(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,14,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,[" "," "])),(e()(),l["\u0275eld"](3,0,null,null,11,"td",[],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["USD"])),(e()(),l["\u0275eld"](8,0,null,null,6,"input",[["class","form-control"],["id","declarationITemValue"],["min","0"],["name","declarationITemValue"],["placeholder","Valor"],["step","0.01"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l["\u0275nov"](e,9)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,9).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,9)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,9)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l["\u0275nov"](e,10).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,10).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,10).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(e.context.$implicit.valueItem.value=n)&&i),i},null,null)),l["\u0275did"](9,16384,null,0,c.d,[l.Renderer2,l.ElementRef,[2,c.a]],null,null),l["\u0275did"](10,16384,null,0,c.q,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,c.h,function(e,t){return[e,t]},[c.d,c.q]),l["\u0275did"](12,671744,null,0,c.m,[[8,null],[8,null],[8,null],[6,c.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.i,null,[c.m]),l["\u0275did"](14,16384,null,0,c.j,[[4,c.i]],null,null)],function(e,t){e(t,12,0,"declarationITemValue",!t.component.editable,t.context.$implicit.valueItem.value)},function(e,t){e(t,2,0,t.context.$implicit.declarationItem.name),e(t,8,0,l["\u0275nov"](t,14).ngClassUntouched,l["\u0275nov"](t,14).ngClassTouched,l["\u0275nov"](t,14).ngClassPristine,l["\u0275nov"](t,14).ngClassDirty,l["\u0275nov"](t,14).ngClassValid,l["\u0275nov"](t,14).ngClassInvalid,l["\u0275nov"](t,14).ngClassPending)})}function pt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,10,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"tr",[["class","text-light bg-secondary"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"th",[["class","text-center"],["colspan","2"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,[" "," "])),(e()(),l["\u0275eld"](4,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Nombre "])),(e()(),l["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Valor "])),(e()(),l["\u0275and"](16777216,null,null,1,null,ht)),l["\u0275did"](10,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,10,0,t.context.$implicit.items)},function(e,t){e(t,3,0,t.context.$implicit.Category.name)})}function gt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,43,"div",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","col-12 text-left"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Datos de la Declaraci\xf3n:"])),(e()(),l["\u0275eld"](5,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,10,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["A\xf1o a Declarar"])),(e()(),l["\u0275eld"](10,0,null,null,6,"input",[["class","form-control"],["id","declarationYear"],["name","declarationYear"],["placeholder","A\xf1o a Declarar"],["type","number"]],[[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,11)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,11).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,11)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,11)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l["\u0275nov"](e,12).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,12).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,12).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(a.declaration_selected.year=n)&&i),i},null,null)),l["\u0275did"](11,16384,null,0,c.d,[l.Renderer2,l.ElementRef,[2,c.a]],null,null),l["\u0275did"](12,16384,null,0,c.q,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,c.h,function(e,t){return[e,t]},[c.d,c.q]),l["\u0275did"](14,671744,null,0,c.m,[[8,null],[8,null],[8,null],[6,c.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.i,null,[c.m]),l["\u0275did"](16,16384,null,0,c.j,[[4,c.i]],null,null),(e()(),l["\u0275eld"](17,0,null,null,15,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Estado"])),(e()(),l["\u0275eld"](21,0,null,null,11,"select",[["class","form-control"],["id","state_id"],["name","state_id"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,n){var i=!0,a=e.component;return"change"===t&&(i=!1!==l["\u0275nov"](e,22).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,22).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(a.declaration_selected.status.state_id=n)&&i),i},null,null)),l["\u0275did"](22,16384,null,0,c.o,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,c.h,function(e){return[e]},[c.o]),l["\u0275did"](24,671744,null,0,c.m,[[8,null],[8,null],[8,null],[6,c.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.i,null,[c.m]),l["\u0275did"](26,16384,null,0,c.j,[[4,c.i]],null,null),(e()(),l["\u0275eld"](27,0,null,null,3,"option",[["selected",""],["value","0"]],null,null,null,null,null)),l["\u0275did"](28,147456,null,0,c.n,[l.ElementRef,l.Renderer2,[2,c.o]],{value:[0,"value"]},null),l["\u0275did"](29,147456,null,0,c.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Seleccione..."])),(e()(),l["\u0275and"](16777216,null,null,1,null,it)),l["\u0275did"](32,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,at)),l["\u0275did"](34,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,dt)),l["\u0275did"](36,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](37,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](38,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](39,0,null,null,2,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,pt)),l["\u0275did"](41,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](42,0,null,null,1,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](43,0,null,null,0,"div",[["class","col-12 text-center"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,14,0,"declarationYear",!n.editable,n.declaration_selected.year),e(t,24,0,"state_id",n.declaration_selected.status.state_id),e(t,28,0,"0"),e(t,29,0,"0"),e(t,32,0,n.declarationstates),e(t,34,0,n.mostrarFechaMaximaPago()),e(t,36,0,n.mostrarFechaMaximaPago()),e(t,41,0,n.declarationItemsToShow)},function(e,t){e(t,10,0,t.component.maxYear,l["\u0275nov"](t,16).ngClassUntouched,l["\u0275nov"](t,16).ngClassTouched,l["\u0275nov"](t,16).ngClassPristine,l["\u0275nov"](t,16).ngClassDirty,l["\u0275nov"](t,16).ngClassValid,l["\u0275nov"](t,16).ngClassInvalid,l["\u0275nov"](t,16).ngClassPending),e(t,21,0,l["\u0275nov"](t,26).ngClassUntouched,l["\u0275nov"](t,26).ngClassTouched,l["\u0275nov"](t,26).ngClassPristine,l["\u0275nov"](t,26).ngClassDirty,l["\u0275nov"](t,26).ngClassValid,l["\u0275nov"](t,26).ngClassInvalid,l["\u0275nov"](t,26).ngClassPending)})}function mt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h4",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Establecimientos Registrados"])),(e()(),l["\u0275eld"](4,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,9,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.getEstablishmentsOnRuc(i.currentPageEstablishment)&&l),l},null,null)),(e()(),l["\u0275eld"](9,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,5,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,1,"button",[["class","input-group-text btn btn-success"],["title","Buscar"],["type","button"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,0,"span",[["class","fas fa-search"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Je)),l["\u0275did"](15,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](16,0,null,null,4,"div",[["style","width: 100%; overflow-x: auto;"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,2,"div",[["class","col-12 mt-2"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,1,"ng-table",[],null,[[null,"cellClicked"],[null,"tableChanged"]],function(e,t,n){var l=!0,i=e.component;return"cellClicked"===t&&(l=!1!==i.onCellClickEstablishmentDeclaration(n)&&l),"tableChanged"===t&&(l=!1!==i.onChangeTableEstablishment(i.config)&&l),l},p.b,p.a)),l["\u0275did"](20,49152,null,0,g.NgTableComponent,[m.DomSanitizer],{rows:[0,"rows"],config:[1,"config"],columns:[2,"columns"]},{tableChanged:"tableChanged",cellClicked:"cellClicked"}),(e()(),l["\u0275eld"](21,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](22,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,et)),l["\u0275did"](24,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,lt)),l["\u0275did"](26,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,gt)),l["\u0275did"](28,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,t){var n=t.component;e(t,15,0,n.config.filtering),e(t,20,0,n.rowsEstablishment,n.config,n.columnsEstablishment),e(t,24,0,n.config.paging),e(t,26,0,0!==n.establishment_declarations_selected.id),e(t,28,0,n.mostrarDataDeclaration)},null)}function ft(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,15,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,3,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,2,"div",[["class","col-12 text-left"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Datos:"])),(e()(),l["\u0275eld"](6,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,9,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,8,"ngb-tabset",[],null,null,null,r.h,r.e)),l["\u0275did"](9,2146304,null,1,o.Z,[o.ab],null,null),l["\u0275qud"](603979776,9,{tabs:1}),(e()(),l["\u0275eld"](11,0,null,null,5,"ngb-tab",[["id","tab4"],["title","Declaraci\xf3n de Impuestos"]],null,null,null,null,null)),l["\u0275did"](12,2113536,[[9,4]],2,o.X,[],{id:[0,"id"],title:[1,"title"]},null),l["\u0275qud"](603979776,10,{titleTpls:1}),l["\u0275qud"](603979776,11,{contentTpls:1}),(e()(),l["\u0275and"](0,null,null,1,null,mt)),l["\u0275did"](16,16384,[[11,4]],0,o.Y,[l.TemplateRef],null,null)],function(e,t){e(t,12,0,"tab4","Declaraci\xf3n de Impuestos")},null)}function _t(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Observaciones"])),(e()(),l["\u0275eld"](3,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,0,"div",[["class","col-12 text-justify"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,1,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.context.$implicit.close("Guardar click")&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["Cerrar"]))],null,function(e,t){e(t,5,0,t.component.statusSelected.justification)})}function vt(e){return l["\u0275vid"](0,[l["\u0275pid"](0,u.DatePipe,[l.LOCALE_ID]),l["\u0275qud"](402653184,1,{fotoFachadaInput:0}),l["\u0275qud"](402653184,2,{EstablishmentCertificationAttachedFile:0}),(e()(),l["\u0275eld"](3,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"h1",[["class","col-12 text-right"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Registros - MINTUR "])),(e()(),l["\u0275eld"](6,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,6,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.refresh()&&l),l},null,null)),(e()(),l["\u0275eld"](11,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,ke)),l["\u0275did"](14,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](15,0,null,null,4,"div",[["style","width: 100%; overflow-x: auto;"]],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,2,"div",[["class","col-12 mt-2"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,1,"ng-table",[],null,[[null,"cellClicked"],[null,"tableChanged"]],function(e,t,n){var l=!0,i=e.component;return"cellClicked"===t&&(l=!1!==i.onCellClick(n)&&l),"tableChanged"===t&&(l=!1!==i.onChangeTable(i.config)&&l),l},p.b,p.a)),l["\u0275did"](19,49152,null,0,g.NgTableComponent,[m.DomSanitizer],{rows:[0,"rows"],config:[1,"config"],columns:[2,"columns"]},{tableChanged:"tableChanged",cellClicked:"cellClicked"}),(e()(),l["\u0275eld"](20,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](21,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Oe)),l["\u0275did"](23,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Me)),l["\u0275did"](25,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Ue)),l["\u0275did"](27,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Be)),l["\u0275did"](29,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Ke)),l["\u0275did"](31,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,$e)),l["\u0275did"](33,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Ye)),l["\u0275did"](35,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,We)),l["\u0275did"](37,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ft)),l["\u0275did"](39,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,[["content",2]],null,0,null,_t))],function(e,t){var n=t.component;e(t,14,0,n.config.filtering),e(t,19,0,n.rows,n.config,n.columns),e(t,23,0,n.config.paging),e(t,25,0,n.mostrarDataRegisterMintur),e(t,27,0,n.mostrarDataRegisterMintur),e(t,29,0,n.mostrarDataRegisterMintur),e(t,31,0,n.mostrarDataRegisterMintur),e(t,33,0,n.mostrarDataRegisterMintur),e(t,35,0,n.mostrarDataRegisterMintur),e(t,37,0,n.mostrarDataRegisterMintur),e(t,39,0,n.mostrarDataRegisterMintur)},null)}function bt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-tecnico-financiero",[],null,null,null,vt,Ae)),l["\u0275did"](1,114688,null,0,Te,[Pe.a,y.a,S.a,_.a,x.a,F.a,De.a,v.a,X.a,o.y,Ee.a,pe.a,K.a,f.a,ne.a,k.a,Se.a,le.a,Ce.a,ye.a,re.a,U.a,ue.a,oe.a,O.a,z.a,te.a,ee.a,ce.a,de.a,L.a,C.a,w.a,D.a,M.a,ge.a,Ie.a,Z.a,Re.a],null,null)],function(e,t){e(t,1,0)},null)}var yt=l["\u0275ccf"]("app-tecnico-financiero",Te,bt,{},{},[]),Et=n("BBZF"),St=n("Izlp"),Ct=n("Ry/H"),Rt=n("sE5F"),Dt=n("ZYCi"),wt=n("4Xde"),It=n("NRun"),Tt=n("rGC/"),Pt=n("7ePi"),At=n("/fSM"),kt=function(){return function(){}}(),Vt=n("jVYb"),Nt=n("kY/A");n.d(t,"TecnicoFinancieroModuleNgFactory",function(){return xt});var xt=l["\u0275cmf"](i,[],function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,yt,r.a,r.b,r.l,r.m,r.i,r.j,r.k]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,u.NgLocalization,u.NgLocaleLocalization,[l.LOCALE_ID,[2,u["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,c.s,c.s,[]),l["\u0275mpd"](4608,o.y,o.y,[l.ComponentFactoryResolver,l.Injector,o.tb,o.z]),l["\u0275mpd"](4608,Et.c,Et.c,[]),l["\u0275mpd"](4608,Et.b,Et.b,[]),l["\u0275mpd"](4608,St.a,Ct.b,[[2,Ct.a],Et.c,Et.b]),l["\u0275mpd"](4608,x.a,x.a,[Rt.e]),l["\u0275mpd"](4608,F.a,F.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,D.a,D.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,S.a,S.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,_.a,_.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,v.a,v.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,w.a,w.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,C.a,C.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,De.a,De.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,Z.a,Z.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,Ie.a,Ie.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,ye.a,ye.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,wt.a,wt.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,k.a,k.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,te.a,te.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,de.a,de.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,y.a,y.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,Ee.a,Ee.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,le.a,le.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,Re.a,Re.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,f.a,f.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,O.a,O.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,Ce.a,Ce.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,Se.a,Se.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,ge.a,ge.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,pe.a,pe.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,re.a,re.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,ue.a,ue.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,K.a,K.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,ce.a,ce.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,oe.a,oe.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,M.a,M.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,It.a,It.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,z.a,z.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,ne.a,ne.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,ee.a,ee.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,Tt.a,Tt.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,L.a,L.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,U.a,U.a,[Rt.e,Dt.l]),l["\u0275mpd"](4608,X.a,X.a,[Rt.e,Dt.l]),l["\u0275mpd"](1073742336,u.CommonModule,u.CommonModule,[]),l["\u0275mpd"](1073742336,c.p,c.p,[]),l["\u0275mpd"](1073742336,c.e,c.e,[]),l["\u0275mpd"](1073742336,h.b,h.b,[]),l["\u0275mpd"](1073742336,Pt.b,Pt.b,[]),l["\u0275mpd"](1073742336,At.a,At.a,[]),l["\u0275mpd"](1073742336,Dt.o,Dt.o,[[2,Dt.u],[2,Dt.l]]),l["\u0275mpd"](1073742336,kt,kt,[]),l["\u0275mpd"](1073742336,Vt.b,Vt.b,[]),l["\u0275mpd"](1073742336,o.c,o.c,[]),l["\u0275mpd"](1073742336,o.f,o.f,[]),l["\u0275mpd"](1073742336,o.g,o.g,[]),l["\u0275mpd"](1073742336,o.k,o.k,[]),l["\u0275mpd"](1073742336,o.l,o.l,[]),l["\u0275mpd"](1073742336,o.q,o.q,[]),l["\u0275mpd"](1073742336,o.v,o.v,[]),l["\u0275mpd"](1073742336,o.A,o.A,[]),l["\u0275mpd"](1073742336,o.G,o.G,[]),l["\u0275mpd"](1073742336,o.Q,o.Q,[]),l["\u0275mpd"](1073742336,o.T,o.T,[]),l["\u0275mpd"](1073742336,o.W,o.W,[]),l["\u0275mpd"](1073742336,o.bb,o.bb,[]),l["\u0275mpd"](1073742336,o.fb,o.fb,[]),l["\u0275mpd"](1073742336,o.gb,o.gb,[]),l["\u0275mpd"](1073742336,o.hb,o.hb,[]),l["\u0275mpd"](1073742336,o.B,o.B,[]),l["\u0275mpd"](1073742336,Nt.Ng2TableModule,Nt.Ng2TableModule,[]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](1024,Dt.j,function(){return[[{path:"",component:Te}]]},[]),l["\u0275mpd"](256,Ct.a,{apiKey:"AIzaSyCGUwCcM-LKjRK4rjbBJ06_GLmX2LaYzfg"},[])])})},vUtf:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var l=n("sE5F"),i=n("AytR"),a=n("CcnG"),s=n("ZYCi"),r=function(){function e(e,t){this.http=e,this.router=t,this.url=i.a.api_financiero+"pay/",this.options=new l.g,this.options.headers=new l.d,this.options.headers.append("api_token",sessionStorage.getItem("api_token"))}return e.prototype.get=function(e){var t=this;return void 0===e?this.http.get(this.url,this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())}):this.http.get(this.url+"?id="+e.toString(),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())})},e.prototype.process_pays=function(e){var t=this;return this.http.post(this.url+"process_pays",JSON.stringify({pays:e}),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())})},e.prototype.get_report=function(e,t){var n=this;return this.http.post(this.url+"get_report",JSON.stringify({desde:e,hasta:t}),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){n.handledError(e.json())})},e.prototype.get_paginate=function(e,t){var n=this;return this.http.get(this.url+"paginate?size="+e.toString()+"&page="+t.toString(),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){n.handledError(e.json())})},e.prototype.get_by_ruc_id=function(e){var t=this;return this.http.get(this.url+"get_by_ruc_id?id="+e.toString(),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())})},e.prototype.get_by_ruc_number=function(e){var t=this;return this.http.get(this.url+"get_by_ruc_number?number="+e,this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())})},e.prototype.delete=function(e){var t=this;return this.http.delete(this.url+"?id="+e.toString(),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())})},e.prototype.getBackUp=function(){var e=this;return this.http.get(this.url+"backup",this.options).toPromise().then(function(e){return e.json()}).catch(function(t){e.handledError(t.json())})},e.prototype.post=function(e){var t=this;return this.http.post(this.url,JSON.stringify(e),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())})},e.prototype.put=function(e){var t=this;return this.http.put(this.url,JSON.stringify(e),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())})},e.prototype.masiveLoad=function(e){var t=this;return this.http.post(this.url+"masive_load",JSON.stringify({data:e}),this.options).toPromise().then(function(e){return e.json()}).catch(function(e){t.handledError(e.json())})},e.prototype.handledError=function(e){console.log(e),sessionStorage.clear(),this.router.navigate(["/login"])},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(l.e),a.inject(s.l))},token:e,providedIn:"root"}),e}()}}]);